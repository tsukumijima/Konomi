{"version":3,"file":"assets/js/91.02cbb927.js","mappings":"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","sources":["webpack://KonomiTV/./node_modules/buffer/index.js","webpack://KonomiTV/./src/utils/ProgramUtils.ts","webpack://KonomiTV/./src/utils/index.ts","webpack://KonomiTV/./src/workers/CaptureCompositor.ts","webpack://KonomiTV/./node_modules/piexifjs/dist/piexif.js","webpack://KonomiTV/./node_modules/core-js/internals/object-define-property.js","webpack://KonomiTV/webpack/bootstrap","webpack://KonomiTV/webpack/runtime/chunk loaded","webpack://KonomiTV/webpack/runtime/compat get default export","webpack://KonomiTV/webpack/runtime/define property getters","webpack://KonomiTV/webpack/runtime/ensure chunk","webpack://KonomiTV/webpack/runtime/get javascript chunk filename","webpack://KonomiTV/webpack/runtime/get mini-css chunk filename","webpack://KonomiTV/webpack/runtime/global","webpack://KonomiTV/webpack/runtime/hasOwnProperty shorthand","webpack://KonomiTV/webpack/runtime/publicPath","webpack://KonomiTV/webpack/runtime/importScripts chunk loading","webpack://KonomiTV/webpack/runtime/startup chunk dependencies","webpack://KonomiTV/webpack/startup"],"sourcesContent":["/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","\r\nimport { IProgram } from '@/services/Programs';\r\nimport Utils, { dayjs } from '@/utils';\r\n\r\n\r\n/**\r\n * 番組情報周りのユーティリティ\r\n */\r\nexport class ProgramUtils {\r\n\r\n    // 映像のコーデック\r\n    // ref: https://github.com/Chinachu/Mirakurun/blob/master/src/Mirakurun/EPG.ts#L23-L27\r\n    static readonly STREAM_CONTENT = {\r\n        0x01: 'MPEG-2',\r\n        0x05: 'H.264',\r\n        0x09: 'H.265',\r\n    };\r\n\r\n    // 映像の解像度\r\n    // ref: https://github.com/Chinachu/Mirakurun/blob/master/src/Mirakurun/EPG.ts#L29-L63\r\n    static readonly VIDEO_COMPONENT_TYPE = {\r\n        0x01: '480i',\r\n        0x02: '480i',\r\n        0x03: '480i',\r\n        0x04: '480i',\r\n        0x83: '4320p',\r\n        0x91: '2160p',\r\n        0x92: '2160p',\r\n        0x93: '2160p',\r\n        0x94: '2160p',\r\n        0xA1: '480p',\r\n        0xA2: '480p',\r\n        0xA3: '480p',\r\n        0xA4: '480p',\r\n        0xB1: '1080i',\r\n        0xB2: '1080i',\r\n        0xB3: '1080i',\r\n        0xB4: '1080i',\r\n        0xC1: '720p',\r\n        0xC2: '720p',\r\n        0xC3: '720p',\r\n        0xC4: '720p',\r\n        0xD1: '240p',\r\n        0xD2: '240p',\r\n        0xD3: '240p',\r\n        0xD4: '240p',\r\n        0xE1: '1080p',\r\n        0xE2: '1080p',\r\n        0xE3: '1080p',\r\n        0xE4: '1080p',\r\n        0xF1: '180p',\r\n        0xF2: '180p',\r\n        0xF3: '180p',\r\n        0xF4: '180p',\r\n    };\r\n\r\n    // 以下は ariblib から LivePSIArchivedDataDecoder で必要なもののみ移植\r\n    // node-aribts にも同等の定義があるが微妙に文字列の表記揺れがあるため、互換性を鑑みて敢えて移植している\r\n    // ref: https://github.com/tsukumijima/ariblib/blob/master/ariblib/constants.py\r\n\r\n    // ARIB-STD-B10-2-H コンテント記述子におけるジャンル指定\r\n    // KonomiTV では見栄え的な都合で中分類の \"／\" を \"・\" に置き換えている (サーバー側も同様)\r\n    static readonly CONTENT_TYPE = {\r\n        0x0: ['ニュース・報道', {\r\n            0x0: '定時・総合',\r\n            0x1: '天気',\r\n            0x2: '特集・ドキュメント',\r\n            0x3: '政治・国会',\r\n            0x4: '経済・市況',\r\n            0x5: '海外・国際',\r\n            0x6: '解説',\r\n            0x7: '討論・会談',\r\n            0x8: '報道特番',\r\n            0x9: 'ローカル・地域',\r\n            0xA: '交通',\r\n            0xF: 'その他',\r\n        }],\r\n        0x1: ['スポーツ', {\r\n            0x0: 'スポーツニュース',\r\n            0x1: '野球',\r\n            0x2: 'サッカー',\r\n            0x3: 'ゴルフ',\r\n            0x4: 'その他の球技',\r\n            0x5: '相撲・格闘技',\r\n            0x6: 'オリンピック・国際大会',\r\n            0x7: 'マラソン・陸上・水泳',\r\n            0x8: 'モータースポーツ',\r\n            0x9: 'マリン・ウィンタースポーツ',\r\n            0xA: '競馬・公営競技',\r\n            0xF: 'その他',\r\n        }],\r\n        0x2: ['情報・ワイドショー', {\r\n            0x0: '芸能・ワイドショー',\r\n            0x1: 'ファッション',\r\n            0x2: '暮らし・住まい',\r\n            0x3: '健康・医療',\r\n            0x4: 'ショッピング・通販',\r\n            0x5: 'グルメ・料理',\r\n            0x6: 'イベント',\r\n            0x7: '番組紹介・お知らせ',\r\n            0xF: 'その他',\r\n        }],\r\n        0x3: ['ドラマ', {\r\n            0x0: '国内ドラマ',\r\n            0x1: '海外ドラマ',\r\n            0x2: '時代劇',\r\n            0xF: 'その他',\r\n        }],\r\n        0x4: ['音楽', {\r\n            0x0: '国内ロック・ポップス',\r\n            0x1: '海外ロック・ポップス',\r\n            0x2: 'クラシック・オペラ',\r\n            0x3: 'ジャズ・フュージョン',\r\n            0x4: '歌謡曲・演歌',\r\n            0x5: 'ライブ・コンサート',\r\n            0x6: 'ランキング・リクエスト',\r\n            0x7: 'カラオケ・のど自慢',\r\n            0x8: '民謡・邦楽',\r\n            0x9: '童謡・キッズ',\r\n            0xA: '民族音楽・ワールドミュージック',\r\n            0xF: 'その他',\r\n        }],\r\n        0x5: ['バラエティ', {\r\n            0x0: 'クイズ',\r\n            0x1: 'ゲーム',\r\n            0x2: 'トークバラエティ',\r\n            0x3: 'お笑い・コメディ',\r\n            0x4: '音楽バラエティ',\r\n            0x5: '旅バラエティ',\r\n            0x6: '料理バラエティ',\r\n            0xF: 'その他',\r\n        }],\r\n        0x6: ['映画', {\r\n            0x0: '洋画',\r\n            0x1: '邦画',\r\n            0x2: 'アニメ',\r\n            0xF: 'その他',\r\n        }],\r\n        0x7: ['アニメ・特撮', {\r\n            0x0: '国内アニメ',\r\n            0x1: '海外アニメ',\r\n            0x2: '特撮',\r\n            0xF: 'その他',\r\n        }],\r\n        0x8: ['ドキュメンタリー・教養', {\r\n            0x0: '社会・時事',\r\n            0x1: '歴史・紀行',\r\n            0x2: '自然・動物・環境',\r\n            0x3: '宇宙・科学・医学',\r\n            0x4: 'カルチャー・伝統文化',\r\n            0x5: '文学・文芸',\r\n            0x6: 'スポーツ',\r\n            0x7: 'ドキュメンタリー全般',\r\n            0x8: 'インタビュー・討論',\r\n            0xF: 'その他',\r\n        }],\r\n        0x9: ['劇場・公演', {\r\n            0x0: '現代劇・新劇',\r\n            0x1: 'ミュージカル',\r\n            0x2: 'ダンス・バレエ',\r\n            0x3: '落語・演芸',\r\n            0x4: '歌舞伎・古典',\r\n            0xF: 'その他',\r\n        }],\r\n        0xA: ['趣味・教育', {\r\n            0x0: '旅・釣り・アウトドア',\r\n            0x1: '園芸・ペット・手芸',\r\n            0x2: '音楽・美術・工芸',\r\n            0x3: '囲碁・将棋',\r\n            0x4: '麻雀・パチンコ',\r\n            0x5: '車・オートバイ',\r\n            0x6: 'コンピュータ・ＴＶゲーム',\r\n            0x7: '会話・語学',\r\n            0x8: '幼児・小学生',\r\n            0x9: '中学生・高校生',\r\n            0xA: '大学生・受験',\r\n            0xB: '生涯教育・資格',\r\n            0xC: '教育問題',\r\n            0xF: 'その他',\r\n        }],\r\n        0xB: ['福祉', {\r\n            0x0: '高齢者',\r\n            0x1: '障害者',\r\n            0x2: '社会福祉',\r\n            0x3: 'ボランティア',\r\n            0x4: '手話',\r\n            0x5: '文字（字幕）',\r\n            0x6: '音声解説',\r\n            0xF: 'その他',\r\n        }],\r\n        0xE: ['拡張', {\r\n            0x0: 'BS/地上デジタル放送用番組付属情報',\r\n            0x1: '広帯域CSデジタル放送用拡張',\r\n            0x2: '衛星デジタル音声放送用拡張',\r\n            0x3: 'サーバー型番組付属情報',\r\n            0x4: 'IP放送用番組付属情報',\r\n        }],\r\n        0xF: ['その他', {\r\n            0xF: 'その他',\r\n        }],\r\n    };\r\n\r\n    // ARIB-TR-B24-4.B 表B-1 地上デジタルテレビジョン放送用番組付属情報\r\n    // ARIB-TR-B25-4.B 表B-1 BSデジタル放送用番組付属情報\r\n    static readonly USER_TYPE = {\r\n        0x00: '中止の可能性あり',\r\n        0x01: '延長の可能性あり',\r\n        0x02: '中断の可能性あり',\r\n        0x03: '同一シリーズの別話数放送の可能性あり',\r\n        0x04: '編成未定枠',\r\n        0x05: '繰り上げの可能性あり',\r\n        0x10: '中断ニュースあり',\r\n        0x11: '当該イベントに関連する臨時サービスあり',\r\n        0x20: '当該イベント中に3D映像あり',\r\n    };\r\n\r\n    // ARIB-STD-B10-2-6.2.3 表6-5 コンポーネント内容とコンポーネント種別\r\n    static readonly COMPONENT_TYPE = {\r\n        0x01: {\r\n            0x00: '将来使用のためリザーブ',\r\n            0x01: '映像480i(525i)、アスペクト比4:3',\r\n            0x02: '映像480i(525i)、アスペクト比16:9 パンベクトルあり',\r\n            0x03: '映像480i(525i)、アスペクト比16:9 パンベクトルなし',\r\n            0x04: '映像480i(525i)、アスペクト比16:9',\r\n            0x91: '映像2160p、アスペクト比4:3',\r\n            0x92: '映像2160p、アスペクト比16:9 パンベクトルあり',\r\n            0x93: '映像2160p、アスペクト比16:9 パンベクトルなし',\r\n            0x94: '映像2160p、アスペクト比16:9',\r\n            0xA1: '映像480p(525p)、アスペクト比4:3',\r\n            0xA2: '映像480p(525p)、アスペクト比16:9 パンベクトルあり',\r\n            0xA3: '映像480p(525p)、アスペクト比16:9 パンベクトルなし',\r\n            0xA4: '映像480p(525p)、アスペクト比16:9',\r\n            0xB1: '映像1080i(1125i)、アスペクト比4:3',\r\n            0xB2: '映像1080i(1125i)、アスペクト比16:9 パンベクトルあり',\r\n            0xB3: '映像1080i(1125i)、アスペクト比16:9 パンベクトルなし',\r\n            0xB4: '映像1080i(1125i)、アスペクト比16:9',\r\n            0xC1: '映像720p(750p)、アスペクト比4:3',\r\n            0xC2: '映像720p(750p)、アスペクト比16:9 パンベクトルあり',\r\n            0xC3: '映像720p(750p)、アスペクト比16:9 パンベクトルなし',\r\n            0xC4: '映像720p(750p)、アスペクト比16:9',\r\n            0xD1: '映像240p アスペクト比4:3',\r\n            0xD2: '映像240p アスペクト比16:9 パンベクトルあり',\r\n            0xD3: '映像240p アスペクト比16:9 パンベクトルなし',\r\n            0xD4: '映像240p アスペクト比16:9',\r\n            0xE1: '映像1080p(1125p)、アスペクト比4:3',\r\n            0xE2: '映像1080p(1125p)、アスペクト比16:9 パンベクトルあり',\r\n            0xE3: '映像1080p(1125p)、アスペクト比16:9 パンベクトルなし',\r\n            0xE4: '映像1080p(1125p)、アスペクト比16:9',\r\n            0xF1: '映像180p アスペクト比4:3',\r\n            0xF2: '映像180p アスペクト比16:9 パンベクトルあり',\r\n            0xF3: '映像180p アスペクト比16:9 パンベクトルなし',\r\n            0xF4: '映像180p アスペクト比16:9',\r\n        },\r\n        0x02: {\r\n            0x00: '将来使用のためリザーブ',\r\n            0x01: '1/0モード(シングルモノ)',\r\n            0x02: '1/0+1/0モード(デュアルモノ)',\r\n            0x03: '2/0モード(ステレオ)',\r\n            0x04: '2/1モード',\r\n            0x05: '3/0モード',\r\n            0x06: '2/2モード',\r\n            0x07: '3/1モード',\r\n            0x08: '3/2モード',\r\n            0x09: '3/2+LFEモード(3/2.1モード)',\r\n            0x0A: '3/3.1モード',\r\n            0x0B: '2/0/0-2/0/2-0.1モード',\r\n            0x0C: '5/2.1モード',\r\n            0x0D: '3/2/2.1モード',\r\n            0x0E: '2/0/0-3/0/2-0.1モード',\r\n            0x0F: '0/2/0-3/0/2-0.2モード',\r\n            0x10: '2/0/0-3/2/3-0.2モード',\r\n            0x11: '3/3/3-5/2/3-3/0/0.2モード',\r\n            0x40: '視覚障害者用音声解説',\r\n            0x41: '聴覚障害者用音声',\r\n        },\r\n        0x05: {\r\n            0x01: 'H.264|MPEG-4 AVC、映像480i(525i)、アスペクト比4:3',\r\n            0x02: 'H.264|MPEG-4 AVC、映像480i(525i)、アスペクト比16:9 パンベクトルあり',\r\n            0x03: 'H.264|MPEG-4 AVC、映像480i(525i)、アスペクト比16:9 パンベクトルなし ',\r\n            0x04: 'H.264|MPEG-4 AVC、映像480i(525i)、アスペクト比 > 16:9',\r\n            0x91: 'H.264|MPEG-4 AVC、映像2160p、アスペクト比4:3',\r\n            0x92: 'H.264|MPEG-4 AVC、映像2160p、アスペクト比16:9 パンベクトルあり',\r\n            0x93: 'H.264|MPEG-4 AVC、映像2160p、アスペクト比16:9 パンベクトルなし',\r\n            0x94: 'H.264|MPEG-4 AVC、映像2160p、アスペクト比 > 16:9',\r\n            0xA1: 'H.264|MPEG-4 AVC、映像480p(525p)、アスペクト比4:3',\r\n            0xA2: 'H.264|MPEG-4 AVC、映像480p(525p)、アスペクト比16:9 パンベクトルあり',\r\n            0xA3: 'H.264|MPEG-4 AVC、映像480p(525p)、アスペクト比16:9 パンベクトルなし',\r\n            0xA4: 'H.264|MPEG-4 AVC、映像480p(525p)、アスペクト比 > 16:9',\r\n            0xB1: 'H.264|MPEG-4 AVC、映像1080i(1125i)、アスペクト比4:3',\r\n            0xB2: 'H.264|MPEG-4 AVC、映像1080i(1125i)、アスペクト比16:9 パンベクトルあり',\r\n            0xB3: 'H.264|MPEG-4 AVC、映像1080i(1125i)、アスペクト比16:9 パンベクトルなし',\r\n            0xB4: 'H.264|MPEG-4 AVC、映像1080i(1125i)、アスペクト比 > 16:9',\r\n            0xC1: 'H.264|MPEG-4 AVC、映像720p(750p)、アスペクト比4:3',\r\n            0xC2: 'H.264|MPEG-4 AVC、映像720p(750p)、アスペクト比16:9 パンベクトルあり',\r\n            0xC3: 'H.264|MPEG-4 AVC、映像720p(750p)、アスペクト比16:9 パンベクトルなし',\r\n            0xC4: 'H.264|MPEG-4 AVC、映像720p(750p)、アスペクト比 > 16:9',\r\n            0xD1: 'H.264|MPEG-4 AVC、映像240p アスペクト比4:3',\r\n            0xD2: 'H.264|MPEG-4 AVC、映像240p アスペクト比16:9 パンベクトルあり',\r\n            0xD3: 'H.264|MPEG-4 AVC、映像240p アスペクト比16:9 パンベクトルなし',\r\n            0xD4: 'H.264|MPEG-4 AVC、映像240p アスペクト比 > 16:9',\r\n            0xE1: 'H.264|MPEG-4 AVC、映像1080p(1125p)、アスペクト比4:3',\r\n            0xE2: 'H.264|MPEG-4 AVC、映像1080p(1125p)、アスペクト比16:9 パンベクトルあり',\r\n            0xE3: 'H.264|MPEG-4 AVC、映像1080p(1125p)、アスペクト比16:9 パンベクトルなし',\r\n            0xE4: 'H.264|MPEG-4 AVC、映像1080p(1125p)、アスペクト比 > 16:9',\r\n            0xF1: 'H.264|MPEG-4 AVC、映像180p アスペクト比4:3',\r\n            0xF2: 'H.264|MPEG-4 AVC、映像180p アスペクト比16:9 パンベクトルあり',\r\n            0xF3: 'H.264|MPEG-4 AVC、映像180p アスペクト比16:9 パンベクトルなし',\r\n            0xF4: 'H.264|MPEG-4 AVC、映像180p アスペクト比 > 16:9',\r\n        },\r\n    };\r\n\r\n    // ARIB-STD-B10-2-6.2.26 表6-45 サンプリング周波数\r\n    static readonly SAMPLING_RATE = {\r\n        0b000: '将来使用のためリザーブ',\r\n        0b001: '16kHz',\r\n        0b010: '22.05kHz',\r\n        0b011: '24kHz',\r\n        0b100: 'リザーブ',\r\n        0b101: '32kHz',\r\n        0b110: '44.1kHz',\r\n        0b111: '48kHz',\r\n    };\r\n\r\n    // 事前に文字列の変換テーブルを構築しておく\r\n    private static readonly format_string_translation_map = ProgramUtils.buildFormatStringTranslationMap();\r\n\r\n\r\n    /**\r\n     * 番組情報中の[字]や[解]などの記号をいい感じに装飾する\r\n     * @param program 番組情報のオブジェクト\r\n     * @param key 番組情報のオブジェクトから取り出すプロパティのキー\r\n     * @returns 装飾した文字列\r\n     */\r\n    static decorateProgramInfo(program: IProgram | null, key: string): string {\r\n\r\n        // program が空でないかつ、program[key] が存在する\r\n        if (program !== null && program[key] !== null) {\r\n\r\n            // 番組情報に含まれる HTML の特殊文字で表示がバグらないように、事前に HTML エスケープしておく\r\n            const text = Utils.escapeHTML(program[key]);\r\n\r\n            // 本来 ARIB 外字である記号の一覧\r\n            // ref: https://ja.wikipedia.org/wiki/%E7%95%AA%E7%B5%84%E8%A1%A8\r\n            // ref: https://github.com/xtne6f/EDCB/blob/work-plus-s/EpgDataCap3/EpgDataCap3/ARIB8CharDecode.cpp#L1319\r\n            const mark = '新|終|再|交|映|手|声|多|副|字|文|CC|OP|二|S|B|SS|無|無料' +\r\n                'C|S1|S2|S3|MV|双|デ|D|N|W|P|H|HV|SD|天|解|料|前|後初|生|販|吹|PPV|' +\r\n                '演|移|他|収|・|英|韓|中|字/日|字/日英|3D|2K|4K|8K|5.1|7.1|22.2|60P|120P|d|HC|HDR|SHV|UHD|VOD|配|初';\r\n\r\n            // 正規表現を作成\r\n            const pattern1 = new RegExp('\\\\((二|字|再)\\\\)', 'g');  // 通常の括弧で囲まれている記号\r\n            const pattern2 = new RegExp(`\\\\[(${mark})\\\\]`, 'g');\r\n\r\n            // 正規表現で置換した結果を返す\r\n            return text.replace(pattern1, '<span class=\"decorate-symbol\">$1</span>')\r\n                .replace(pattern2, '<span class=\"decorate-symbol\">$1</span>');\r\n\r\n        // 番組情報がない時間帯\r\n        } else {\r\n\r\n            // 23時～翌7時 (0:00 ~ 06:59 or 23:00 ~ 23:59) の間なら放送を休止している可能性が高いので、放送休止と表示する\r\n            const now = dayjs();\r\n            const pause_time_start = dayjs().hour(0).minute(0).second(0);\r\n            const pause_time_end = dayjs().hour(6).minute(59).second(59);\r\n            const pause_time_start_23 = dayjs().hour(23).minute(0).second(0);\r\n            const pause_time_end_23 = dayjs().hour(23).minute(59).second(59);\r\n            if ((now.isSameOrAfter(pause_time_start) && now.isSameOrBefore(pause_time_end)) ||\r\n                (now.isSameOrAfter(pause_time_start_23) && now.isSameOrBefore(pause_time_end_23))) {\r\n                if (key === 'title') {\r\n                    return '放送休止';  // タイトル\r\n                } else {\r\n                    return 'この時間は放送を休止しています。';  // 番組概要\r\n                }\r\n\r\n            // それ以外の時間帯では、「番組情報がありません」と表示する\r\n            // 急な番組変更の影響で、一時的にその時間帯に対応する番組情報が消えることがある\r\n            // 特に Mirakurun バックエンドでは高頻度で収集した EIT[p/f] が比較的すぐ反映されるため、この現象が起こりやすい\r\n            // 日中に放送休止（停波）になることはまずあり得ないので、番組情報が取得できてないだけで視聴できるかも？というニュアンスを与える\r\n            } else {\r\n                if (key === 'title') {\r\n                    return '番組情報がありません';  // タイトル\r\n                } else {\r\n                    return 'この時間の番組情報を取得できませんでした。';  // 番組概要\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * 番組の進捗状況を取得する\r\n     * @param program 番組情報\r\n     * @returns 番組の進捗状況（%単位）\r\n     */\r\n    static getProgramProgress(program: IProgram | null): number {\r\n\r\n        // program が空でない\r\n        if (program !== null) {\r\n\r\n            // 番組開始時刻から何秒進んだか\r\n            const progress = dayjs(dayjs()).diff(program.start_time, 'second');\r\n\r\n            // %単位の割合を算出して返す\r\n            // duration が Infinity の場合は、放送時間未定として扱う\r\n            if (program.duration !== Infinity) {\r\n                return progress / program.duration * 100;\r\n            } else {\r\n                return 100;  // 放送時間未定\r\n            }\r\n\r\n        // 放送休止中\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * 番組放送時刻の文字列表現を取得する\r\n     * @param program 番組情報\r\n     * @param is_short 時刻のみ返すかどうか\r\n     * @returns 番組の放送時刻\r\n     */\r\n    static getProgramTime(program: IProgram | null, is_short: boolean = false): string {\r\n\r\n        // program が空でなく、かつ番組時刻が初期値でない\r\n        if (program !== null && program.start_time !== '2000-01-01T00:00:00+09:00') {\r\n\r\n            const start_time = dayjs(program.start_time);\r\n            const end_time = dayjs(program.end_time);\r\n\r\n            // duration が Infinity の場合は、end_time を無視して放送時間未定として扱う\r\n            // この時 end_time には便宜上 start_time と同一の時刻が設定されるため、参照してはいけない\r\n            if (program.duration === Infinity) {\r\n                if (is_short === true) {  // 時刻のみ\r\n                    return `${start_time.format('HH:mm')} ～ --:--`;\r\n                } else {\r\n                    return `${start_time.format('YYYY/MM/DD (dd) HH:mm')} ～ --:-- (放送時間未定)`;\r\n                }\r\n            }\r\n\r\n            // 分単位の番組長 (割り切れない場合は小数第2位で四捨五入)\r\n            const duration = Math.round(program.duration / 60 * 100) / 100;\r\n\r\n            if (is_short === true) {  // 時刻のみ\r\n                return `${start_time.format('HH:mm')} ～ ${end_time.format('HH:mm')}`;\r\n            } else {\r\n                return `${start_time.format('YYYY/MM/DD (dd) HH:mm')} ～ ${end_time.format('HH:mm')} (${duration}分)`;\r\n            }\r\n\r\n        // 放送休止中\r\n        } else {\r\n            if (is_short === true) {  // 時刻のみ\r\n                return '--:-- ～ --:--';\r\n            } else {\r\n                return '----/--/-- (-) --:-- ～ --:-- (--分)';\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * 文字列に含まれる英数や記号を半角に置換し、一律な表現に整える\r\n     * server/app/utils/TSInformation.py の TSInformation.formatString() と同等の処理を行う\r\n     * @param string 変換する文字列\r\n     * @returns 置換した文字列\r\n     */\r\n    static formatString(string: string): string {\r\n\r\n        // 変換\r\n        for (const key in ProgramUtils.format_string_translation_map) {\r\n            string = string.replaceAll(key, ProgramUtils.format_string_translation_map[key]);\r\n        }\r\n\r\n        // 置換した文字列を返す\r\n        return string;\r\n    }\r\n\r\n\r\n    /**\r\n     * formatString() で使用する変換マップを取得する\r\n     * server/app/utils/TSInformation.py の TSInfoAnalyzer.__buildFormatStringTranslationMap() と同等の処理を行う\r\n     * @returns 変換マップ\r\n     */\r\n    private static buildFormatStringTranslationMap(): {[key: string]: string} {\r\n\r\n        // 全角英数を半角英数に置換\r\n        const zenkaku_table = '０１２３４５６７８９ＡＢＣＤＥＦＧＨＩＪＫＬＭＮＯＰＱＲＳＴＵＶＷＸＹＺａｂｃｄｅｆｇｈｉｊｋｌｍｎｏｐｑｒｓｔｕｖｗｘｙｚ';\r\n        const hankaku_table = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';\r\n        const merged_table: { [key: string]: string } = {};\r\n        for (let i = 0; i < zenkaku_table.length; i++) {\r\n            merged_table[zenkaku_table[i]] = hankaku_table[i];\r\n        }\r\n\r\n        // 全角記号を半角記号に置換\r\n        const symbol_zenkaku_table = '＂＃＄％＆＇（）＋，－．／：；＜＝＞［＼］＾＿｀｛｜｝　';\r\n        const symbol_hankaku_table = '\"#$%&\\'()+,-./:;<=>[\\\\]^_`{|} ';\r\n        for (let i = 0; i < symbol_zenkaku_table.length; i++) {\r\n            merged_table[symbol_zenkaku_table[i]] = symbol_hankaku_table[i];\r\n        }\r\n        // 一部の半角記号を全角に置換\r\n        // 主に見栄え的な問題（全角の方が字面が良い）\r\n        merged_table['!'] = '！';\r\n        merged_table['?'] = '？';\r\n        merged_table['*'] = '＊';\r\n        merged_table['~'] = '～';\r\n        merged_table['@'] = '＠';\r\n        // シャープ → ハッシュ\r\n        merged_table['♯'] = '#';\r\n        // 波ダッシュ → 全角チルダ\r\n        // EDCB は ～ を全角チルダとして扱っているため、KonomiTV でもそのように統一する\r\n        merged_table['〜'] = '～';\r\n\r\n        // 番組表で使用される囲み文字の置換テーブル\r\n        // ref: https://note.nkmk.me/python-chr-ord-unicode-code-point/\r\n        // ref: https://github.com/l3tnun/EPGStation/blob/v2.6.17/src/util/StrUtil.ts#L7-L46\r\n        const enclosed_characters_table: {[key: string]: string} = {\r\n            '\\u{1F14A}': '[HV]',\r\n            '\\u{1F13F}': '[P]',\r\n            '\\u{1F14C}': '[SD]',\r\n            '\\u{1F146}': '[W]',\r\n            '\\u{1F14B}': '[MV]',\r\n            '\\u{1F210}': '[手]',\r\n            '\\u{1F211}': '[字]',\r\n            '\\u{1F212}': '[双]',\r\n            '\\u{1F213}': '[デ]',\r\n            '\\u{1F142}': '[S]',\r\n            '\\u{1F214}': '[二]',\r\n            '\\u{1F215}': '[多]',\r\n            '\\u{1F216}': '[解]',\r\n            '\\u{1F14D}': '[SS]',\r\n            '\\u{1F131}': '[B]',\r\n            '\\u{1F13D}': '[N]',\r\n            '\\u{1F217}': '[天]',\r\n            '\\u{1F218}': '[交]',\r\n            '\\u{1F219}': '[映]',\r\n            '\\u{1F21A}': '[無]',\r\n            '\\u{1F21B}': '[料]',\r\n            '\\u{1F21C}': '[前]',\r\n            '\\u{1F21D}': '[後]',\r\n            '\\u{1F21E}': '[再]',\r\n            '\\u{1F21F}': '[新]',\r\n            '\\u{1F220}': '[初]',\r\n            '\\u{1F221}': '[終]',\r\n            '\\u{1F222}': '[生]',\r\n            '\\u{1F223}': '[販]',\r\n            '\\u{1F224}': '[声]',\r\n            '\\u{1F225}': '[吹]',\r\n            '\\u{1F14E}': '[PPV]',\r\n            '\\u{1F200}': '[ほか]',\r\n        };\r\n\r\n        // Unicode の囲み文字を大かっこで囲った文字に置換する\r\n        // EDCB で EpgDataCap3_Unicode.dll を利用している場合や、Mirakurun 3.9.0-beta.24 以降など、\r\n        // 番組情報取得元から Unicode の囲み文字が送られてくる場合に対応するためのもの\r\n        // Unicode の囲み文字はサロゲートペアなどで扱いが難しい上に KonomiTV では囲み文字を CSS でハイライトしているため、Unicode にするメリットがない\r\n        // ref: https://note.nkmk.me/python-str-replace-translate-re-sub/\r\n        for (const key in enclosed_characters_table) {\r\n            merged_table[key] = enclosed_characters_table[key];\r\n        }\r\n\r\n        return merged_table;\r\n    }\r\n\r\n    /**\r\n     * ISO639 形式の言語コードが示す言語の名称を取得する\r\n     * server/app/utils/TSInformation.py の TSInformation.getISO639LanguageCodeName() と同等の処理を行う\r\n     * @param iso639_language_code ISO639 形式の言語コード\r\n     * @returns ISO639 形式の言語コードが示す言語の名称\r\n     */\r\n    static getISO639LanguageCodeName(iso639_language_code: string): string {\r\n        if (iso639_language_code === 'jpn') {\r\n            return '日本語';\r\n        } else if (iso639_language_code === 'eng') {\r\n            return '英語';\r\n        } else if (iso639_language_code === 'deu') {\r\n            return 'ドイツ語';\r\n        } else if (iso639_language_code === 'fra') {\r\n            return 'フランス語';\r\n        } else if (iso639_language_code === 'ita') {\r\n            return 'イタリア語';\r\n        } else if (iso639_language_code === 'rus') {\r\n            return 'ロシア語';\r\n        } else if (iso639_language_code === 'zho') {\r\n            return '中国語';\r\n        } else if (iso639_language_code === 'kor') {\r\n            return '韓国語';\r\n        } else if (iso639_language_code === 'spa') {\r\n            return 'スペイン語';\r\n        } else {\r\n            return 'その他の言語';\r\n        }\r\n    }\r\n}\r\n","\r\n// day.js に毎回プラグインやタイムゾーンを設定するのが面倒かつ嵌まりポイントが多いので、ここでエクスポートする day.js を使う\r\n// ややこしすぎるので KonomiTV 内ではブラウザのタイムゾーンに関わらず、常に Asia/Tokyo として扱う\r\n// ref: https://github.com/iamkun/dayjs/issues/1227#issuecomment-917720826\r\n// ref: https://zenn.dev/taigakiyokawa/articles/20221122-dayjs-timezone\r\n\r\nimport dayjsOriginal from 'dayjs';\r\nimport ja from 'dayjs/locale/ja';\r\nimport isBetween from 'dayjs/plugin/isBetween';\r\nimport isSameOrAfter from 'dayjs/plugin/isSameOrAfter';\r\nimport isSameOrBefore from 'dayjs/plugin/isSameOrBefore';\r\nimport timezone from 'dayjs/plugin/timezone';\r\nimport utc from 'dayjs/plugin/utc';\r\n\r\nimport type { ConfigType, Dayjs } from 'dayjs';\r\n\r\ndayjsOriginal.extend(isBetween);\r\ndayjsOriginal.extend(isSameOrAfter);\r\ndayjsOriginal.extend(isSameOrBefore);\r\ndayjsOriginal.extend(utc);\r\ndayjsOriginal.extend(timezone);\r\ndayjsOriginal.locale(ja);\r\ndayjsOriginal.tz.setDefault('Asia/Tokyo');\r\n\r\nexport const dayjs = (date?: ConfigType): Dayjs => {\r\n    return dayjsOriginal(date).tz();  // .tz() では setDefault で設定したタイムゾーンが適用される\r\n};\r\n\r\n// 共通ユーティリティをデフォルトとしてインポート\r\nimport Utils from '@/utils/Utils';\r\nexport default Utils;\r\n\r\n// Utils フォルダ配下のユーティリティを一括でインポートできるように\r\nexport * from '@/utils/ChannelUtils';\r\nexport * from '@/utils/CommentUtils';\r\nexport * from '@/utils/PlayerUtils';\r\nexport * from '@/utils/ProgramUtils';\r\n","\r\nimport assert from 'assert';\r\nimport { Buffer } from 'buffer';\r\n\r\nimport * as Comlink from 'comlink';\r\nimport * as piexif from 'piexifjs';\r\n\r\nimport Utils, { dayjs } from '@/utils';\r\n\r\n\r\n/**\r\n * キャプチャに合成する際に必要なコメント情報のインターフェイス\r\n */\r\nexport interface ICaptureCommentData {\r\n    // DOM 上のコメントのコンテナ要素の幅と高さ (px)\r\n    container_width: number;\r\n    container_height: number;\r\n    // コメント全体の不透明度 (0.0 ～ 1.0)\r\n    opacity: number;\r\n    // コメントごとの情報\r\n    comments: {\r\n        // 左上からの座標 (px)\r\n        top: number;\r\n        left: number;\r\n        // コメントの色\r\n        color: string;\r\n        // コメントのフォントサイズ (px)\r\n        font_size: number;\r\n        // コメントのテキスト\r\n        text: string;\r\n    }[];\r\n}\r\n\r\n/** キャプチャに書き込む EXIF メタデータのインターフェイス */\r\nexport interface ICaptureExifData {\r\n    // キャプチャの撮影時刻 (ISO8601 フォーマット)\r\n    captured_at: string;\r\n    // 番組開始時刻から換算したキャプチャ位置 (秒)\r\n    captured_playback_position: number;\r\n    // チャンネルの network_id\r\n    network_id: number;\r\n    // チャンネルの service_id\r\n    service_id: number;\r\n    // 番組の event_id\r\n    event_id: number;\r\n    // 番組名\r\n    title: string;\r\n    // 番組概要\r\n    description: string;\r\n    // 番組開始時刻 (ISO8601 フォーマット)\r\n    start_time: string;\r\n    // 番組終了時刻 (ISO8601 フォーマット)\r\n    end_time: string;\r\n    // 番組長 (秒)\r\n    duration: number;\r\n    // 字幕のテキスト (キャプチャされた瞬間に字幕が表示されていない場合は null)\r\n    caption_text: string | null;\r\n    // キャプチャに字幕が合成されているかどうか\r\n    is_caption_composited: boolean;\r\n    // キャプチャにコメントが合成されているかどうか\r\n    is_comment_composited: boolean;\r\n}\r\n\r\nexport interface ICaptureCompositorOptions {\r\n    // 字幕 Canvas 指定時のキャプチャの保存モード\r\n    mode: 'VideoOnly' | 'CompositingCaption' | 'Both';\r\n    // キャプチャした映像\r\n    capture: ImageBitmap;\r\n    // キャプチャした字幕 Canvas (null の場合は字幕を合成しない)\r\n    caption: ImageBitmap | null;\r\n    // キャプチャした文字スーパー Canvas (null の場合は文字スーパーを合成しない)\r\n    superimpose: ImageBitmap | null;\r\n    // キャプチャに合成するコメント情報 (null の場合はコメントを合成しない)\r\n    capture_comment_data: ICaptureCommentData | null;\r\n    // キャプチャに書き込む EXIF メタデータ\r\n    capture_exif_data: ICaptureExifData;\r\n}\r\n\r\nexport interface ICaptureCompositorResult {\r\n    // 字幕を合成していないキャプチャ画像 (CompositingCaption かつ字幕がある場合は null)\r\n    capture_normal: Blob | null;\r\n    // 字幕を合成したキャプチャ画像 (VideoOnly と、CompositingCaption or Both だが字幕がない場合は null)\r\n    capture_caption: Blob | null;\r\n}\r\n\r\nexport interface ICaptureCompositor {\r\n    composite(): Promise<ICaptureCompositorResult>;\r\n}\r\n\r\nexport interface ICaptureCompositorConstructor {\r\n    new (options: ICaptureCompositorOptions): ICaptureCompositor;\r\n    loadFonts(): Promise<void>;\r\n}\r\n\r\n\r\n/**\r\n * Web Worker 上でキャプチャに字幕/文字スーパー/コメントを適宜合成し、EXIF メタデータをセットした上で Blob を返す\r\n * 直接は呼び出さず、CaptureCompositorProxy (Comlink) 経由で Web Worker 上で実行する\r\n */\r\nclass CaptureCompositor implements ICaptureCompositor {\r\n\r\n    // フォントをロード済みかどうか\r\n    private static is_loaded_fonts: boolean = false;\r\n\r\n    // CaptureCompositor の合成オプション\r\n    private readonly options: ICaptureCompositorOptions;\r\n\r\n    /**\r\n     * コンストラクタ\r\n     * @param options 合成するデータと EXIF メタデータ\r\n     */\r\n    constructor(options: ICaptureCompositorOptions) {\r\n        this.options = options;\r\n    }\r\n\r\n\r\n    /**\r\n     * Web Worker 上に利用するフォントをロードする\r\n     * Web Worker はメインスレッドとは別のスレッドで実行されるため、明示的に Web Worker 側でフォントをロードする必要がある\r\n     */\r\n    public static async loadFonts(): Promise<void> {\r\n\r\n        // 既にロード済みの場合は何もしない\r\n        if (this.is_loaded_fonts === true) {\r\n            return;\r\n        }\r\n\r\n        // コメント描画に関しては Bold しか利用しない\r\n        const font_faces: FontFace[] = [\r\n            new FontFace('Open Sans', 'url(/assets/fonts/OpenSans-Bold.woff2)', {weight: 'bold'}),\r\n            new FontFace('YakuHanJPs', 'url(/assets/fonts/YakuHanJPs-Bold.woff2)', {weight: 'bold'}),\r\n            new FontFace('Noto Sans JP', 'url(/assets/fonts/NotoSansJP-Bold.woff2)', {weight: 'bold'}),\r\n        ];\r\n\r\n        // フォントを一括ロード\r\n        // Web Worker では document.fonts ではなく self.fonts を使う必要がある (落とし穴)\r\n        await Promise.all(font_faces.map((font_face) => font_face.load()));\r\n        for (const font_face of font_faces) {\r\n            self.fonts.add(font_face);\r\n        }\r\n        this.is_loaded_fonts = true;\r\n    }\r\n\r\n\r\n    /**\r\n     * キャプチャに字幕/文字スーパー/コメントを適宜合成し、EXIF メタデータをセットした上で Blob を返す\r\n     * @returns 字幕なしのキャプチャ画像と、字幕ありのキャプチャ画像の Blob オブジェクト (どちらかが null になる場合がある)\r\n     */\r\n    public async composite(): Promise<ICaptureCompositorResult> {\r\n        console.log('[CaptureCompositor] Composite start:', this.options);\r\n        const start_time = Utils.time();\r\n\r\n        // 字幕ありキャプチャ画像を先に合成している理由は、this.compositeInNormalDirectMode() を実行した時点で\r\n        // ImageBitmap が解放されてしまい、その後条件次第で実行される this.compositeInCaptionMode() でキャプチャを描画できなくなるため\r\n\r\n        let capture_caption_promise: Promise<Blob | null> | null = null;\r\n        let capture_normal_promise: Promise<Blob | null> | null = null;\r\n\r\n        // 字幕ありキャプチャ画像を合成する\r\n        // 通常は CompositingCaption と Both の場合に実行されるが、字幕が指定されていない場合は実行されない\r\n        if (['CompositingCaption', 'Both'].includes(this.options.mode) && this.options.caption !== null) {\r\n            capture_caption_promise = this.compositeInCaptionMode();\r\n        }\r\n\r\n        // 字幕なしキャプチャ画像を合成する\r\n        // 通常は VideoOnly と Both の場合に実行されるが、CompositeCaption でも字幕が指定されていない場合は実行される\r\n        if (['VideoOnly', 'Both'].includes(this.options.mode) || (this.options.mode === 'CompositingCaption' && this.options.caption === null)) {\r\n            // 文字スーパーとコメントを合成する必要がない場合は、ImageBitmap のバッファを直接転写する\r\n            if (this.options.superimpose === null && this.options.capture_comment_data === null) {\r\n                capture_normal_promise = this.compositeInNormalDirectMode();\r\n            } else {\r\n                capture_normal_promise = this.compositeInNormalMode();\r\n            }\r\n        }\r\n\r\n        // 並列で実行して、結果を待つ\r\n        const [capture_caption, capture_normal] = await Promise.all([capture_caption_promise, capture_normal_promise]);\r\n        console.log('[CaptureCompositor] Composite end:', Utils.mathFloor(Utils.time() - start_time, 3), 'sec');\r\n\r\n        return {\r\n            capture_normal: capture_normal,\r\n            capture_caption: capture_caption,\r\n        };\r\n    }\r\n\r\n\r\n    /**\r\n     * 一切ほかの合成処理を行わず、キャプチャの ImageBitmap のバッファを直接 OffscreenCanvas に転写して合成する\r\n     * 字幕なしキャプチャ画像のうち、文字スーパーやコメントを合成する必要がない場合にのみ利用する\r\n     * このメソッドは ImageBitmap を OffscreenCanvas に移譲して解放するため、このメソッドを呼んだ後に this.options.capture を使うことはできない\r\n     * @returns 字幕なしキャプチャ画像の Blob オブジェクト\r\n     */\r\n    private async compositeInNormalDirectMode(): Promise<Blob> {\r\n        assert(this.options.superimpose === null);\r\n        assert(this.options.capture_comment_data === null);\r\n        const start_time = Utils.time();\r\n\r\n        // OffscreenCanvas を生成\r\n        const normal_direct_canvas = new OffscreenCanvas(this.options.capture.width, this.options.capture.height);\r\n\r\n        // OffscreenCanvas のコンテキストを取得\r\n        // bitmaprenderer を指定して、ImageBitmap からゼロコピーで描画する\r\n        const normal_direct_canvas_context = normal_direct_canvas.getContext('bitmaprenderer', {alpha: false})!;\r\n\r\n        // ImageBitmap を OffscreenCanvas に転送\r\n        normal_direct_canvas_context.transferFromImageBitmap(this.options.capture);\r\n        this.options.capture.close();  // ImageBitmap を解放\r\n        console.log('[CaptureCompositor] Normal (Direct):', Utils.mathFloor(Utils.time() - start_time, 3), 'sec');\r\n\r\n        // EXIF メタデータをセットした Blob を返す\r\n        return await this.exportToBlob(normal_direct_canvas, {\r\n            is_caption_composited: false,\r\n            is_comment_composited: false,\r\n        });\r\n    }\r\n\r\n\r\n    /**\r\n     * 字幕なしキャプチャ画像を合成する\r\n     * @returns 字幕なしキャプチャ画像の Blob オブジェクト\r\n     */\r\n    private async compositeInNormalMode(): Promise<Blob> {\r\n        const start_time = Utils.time();\r\n\r\n        // OffscreenCanvas を生成\r\n        const normal_canvas = new OffscreenCanvas(this.options.capture.width, this.options.capture.height);\r\n\r\n        // OffscreenCanvas のコンテキストを取得\r\n        // オプションはいずれもパフォーマンス向上のために指定している\r\n        const normal_canvas_context = normal_canvas.getContext('2d', {\r\n            alpha: false,\r\n            desynchronized: true,\r\n            willReadFrequently: false,\r\n        })!;\r\n\r\n        // OffscreenCanvas にキャプチャした映像を描画\r\n        normal_canvas_context.drawImage(this.options.capture, 0, 0, normal_canvas.width, normal_canvas.height);\r\n\r\n        // 文字スーパーが指定されている場合、OffscreenCanvas にキャプチャした文字スーパーを重ねて描画\r\n        if (this.options.superimpose !== null) {\r\n            normal_canvas_context.drawImage(this.options.superimpose, 0, 0, normal_canvas.width, normal_canvas.height);\r\n        }\r\n\r\n        // コメントが指定されている場合、OffscreenCanvas にキャプチャしたコメントを重ねて描画\r\n        if (this.options.capture_comment_data !== null) {\r\n            this.compositeComments(normal_canvas, normal_canvas_context);\r\n        }\r\n        console.log('[CaptureCompositor] Normal:', Utils.mathFloor(Utils.time() - start_time, 3), 'sec');\r\n\r\n        // EXIF メタデータをセットした Blob を返す\r\n        return await this.exportToBlob(normal_canvas, {\r\n            is_caption_composited: false,\r\n            is_comment_composited: this.options.capture_comment_data !== null ? true : false,\r\n        });\r\n    }\r\n\r\n\r\n    /**\r\n     * 字幕ありキャプチャ画像を合成する\r\n     * @returns 字幕ありキャプチャ画像の Blob オブジェクト\r\n     */\r\n    private async compositeInCaptionMode(): Promise<Blob> {\r\n        assert(this.options.caption !== null);\r\n        const start_time = Utils.time();\r\n\r\n        // OffscreenCanvas を生成\r\n        const caption_canvas = new OffscreenCanvas(this.options.capture.width, this.options.capture.height);\r\n\r\n        // OffscreenCanvas のコンテキストを取得\r\n        // オプションはいずれもパフォーマンス向上のために指定している\r\n        const caption_canvas_context = caption_canvas.getContext('2d', {\r\n            alpha: false,\r\n            desynchronized: true,\r\n            willReadFrequently: false,\r\n        })!;\r\n\r\n        // OffscreenCanvas にキャプチャした映像を描画\r\n        caption_canvas_context.drawImage(this.options.capture, 0, 0, caption_canvas.width, caption_canvas.height);\r\n\r\n        // 文字スーパーが指定されている場合、OffscreenCanvas にキャプチャした文字スーパーを重ねて描画\r\n        if (this.options.superimpose !== null) {\r\n            caption_canvas_context.drawImage(this.options.superimpose, 0, 0, caption_canvas.width, caption_canvas.height);\r\n        }\r\n\r\n        // OffscreenCanvas にキャプチャした字幕を重ねて描画\r\n        caption_canvas_context.drawImage(this.options.caption, 0, 0, caption_canvas.width, caption_canvas.height);\r\n\r\n        // コメントが指定されている場合、OffscreenCanvas にキャプチャしたコメントを重ねて描画\r\n        if (this.options.capture_comment_data !== null) {\r\n            this.compositeComments(caption_canvas, caption_canvas_context);\r\n        }\r\n        console.log('[CaptureCompositor] With Caption:', Utils.mathFloor(Utils.time() - start_time, 3), 'sec');\r\n\r\n        // EXIF メタデータをセットした Blob を返す\r\n        return await this.exportToBlob(caption_canvas, {\r\n            is_caption_composited: true,\r\n            is_comment_composited: this.options.capture_comment_data !== null ? true : false,\r\n        });\r\n    }\r\n\r\n\r\n    /**\r\n     * 指定された OffscreenCanvas にコメントを合成する\r\n     * @param canvas コメントを合成する OffscreenCanvas\r\n     * @param context コメントを合成する OffscreenCanvas のコンテキスト\r\n     */\r\n    private compositeComments(canvas: OffscreenCanvas, context: OffscreenCanvasRenderingContext2D): void {\r\n        assert(this.options.capture_comment_data !== null);\r\n\r\n        // コメントを描画する一時的な OffscreenCanvas を生成\r\n        // この OffscreenCanvas のサイズは指定された OffscreenCanvas と同じにする\r\n        const comment_canvas = new OffscreenCanvas(canvas.width, canvas.height);\r\n\r\n        // OffscreenCanvas のコンテキストを取得\r\n        // オプションはいずれもパフォーマンス向上のために指定している\r\n        const comment_canvas_context = comment_canvas.getContext('2d', {\r\n            alpha: true,  // 透明度を保持する\r\n            desynchronized: true,\r\n            willReadFrequently: false,\r\n        })!;\r\n\r\n        // コメントのコンテナ要素の幅と OffscreenCanvas の幅を比較して、どれだけ拡大/縮小して描画するかを計算\r\n        // この値を使って、コメントの座標やフォントサイズを拡大/縮小する\r\n        // コメントのコンテナ要素の高さは可変なので、幅のみを使う\r\n        const magnification_ratio = canvas.width / this.options.capture_comment_data.container_width;\r\n\r\n        // 事前に描画する文字のベースラインを top に設定\r\n        // デフォルトのベースラインでは Y 座標が上にずれてしまうため\r\n        comment_canvas_context.textBaseline = 'top';\r\n\r\n        // 指定された座標に、指定されたフォントサイズでコメントを描画\r\n        for (const comment of this.options.capture_comment_data.comments) {\r\n            comment_canvas_context.fillStyle = comment.color;\r\n            // UI 側と同じフォント指定なので、明示的にロードせずとも OffscreenCanvas に描画できる状態にあるはず\r\n            comment_canvas_context.font = `bold ${comment.font_size * magnification_ratio}px 'Open Sans', 'YakuHanJPs', 'Hiragino Sans', 'Noto Sans JP', sans-serif`;\r\n            // UI 側と同じテキストシャドウを付ける\r\n            comment_canvas_context.shadowOffsetX = 1.2 * magnification_ratio;\r\n            comment_canvas_context.shadowOffsetY = 1.2 * magnification_ratio;\r\n            comment_canvas_context.shadowBlur = 4 * magnification_ratio;\r\n            comment_canvas_context.shadowColor = 'rgba(0, 0, 0, 0.9)';\r\n            comment_canvas_context.fillText(comment.text, comment.left * magnification_ratio, comment.top * magnification_ratio);\r\n        }\r\n\r\n        // コメントを描画する OffscreenCanvas を、指定された OffscreenCanvas に合成\r\n        // 合成と同時にコメントレイヤーのサイズを指定された OffscreenCanvas に合わせる (通常はコメントレイヤーの方が小さいので拡大される)\r\n        // 合成する際の透明度は指定された値を使う\r\n        context.globalAlpha = this.options.capture_comment_data.opacity;\r\n        context.drawImage(comment_canvas, 0, 0, canvas.width, canvas.height);\r\n    }\r\n\r\n\r\n    /**\r\n     * キャプチャ画像に番組情報と撮影時刻、字幕やコメントが合成されているかどうかのメタデータ (EXIF) をセットする\r\n     * @param blob キャプチャ画像の Blob オブジェクト\r\n     * @param options 字幕やコメントが合成されているかどうかのメタデータ (EXIF に書き込まれる)\r\n     * @returns EXIF が追加されたキャプチャ画像の Blob オブジェクト\r\n     */\r\n    private async setEXIFDataToCapture(blob: Blob, options: {\r\n        is_caption_composited: boolean;\r\n        is_comment_composited: boolean;\r\n    }): Promise<Blob> {\r\n\r\n        // EXIF 本体にセットする撮影時刻\r\n        // すべてコロンで区切るのがポイント\r\n        const datetime = dayjs(this.options.capture_exif_data.captured_at).format('YYYY:MM:DD HH:mm:ss');\r\n\r\n        // EXIF の XPComment 領域に保存するメタデータ\r\n        // is_caption_composited と is_comment_composited の値を既存の capture_exif_data に反映する\r\n        const capture_exif_data: ICaptureExifData = {\r\n            ...this.options.capture_exif_data,\r\n            is_caption_composited: options.is_caption_composited,\r\n            is_comment_composited: options.is_comment_composited,\r\n        };\r\n\r\n        // 保存する EXIF メタデータを構築\r\n        // ref: 「カメラアプリで体感するWeb App」4.2\r\n        const exif: piexif.IExif = {\r\n            '0th': {\r\n                // 必須らしいプロパティ\r\n                // とりあえずデフォルト値 (?) を設定しておく\r\n                [piexif.TagValues.ImageIFD.XResolution]: [72, 1],\r\n                [piexif.TagValues.ImageIFD.YResolution]: [72, 1],\r\n                [piexif.TagValues.ImageIFD.ResolutionUnit]: 2,\r\n                [piexif.TagValues.ImageIFD.YCbCrPositioning]: 1,\r\n                // 撮影時刻\r\n                [piexif.TagValues.ImageIFD.DateTime]: datetime,\r\n                // ソフトウェア名\r\n                [piexif.TagValues.ImageIFD.Software]: `KonomiTV version ${Utils.version}`,\r\n                // Microsoft 拡張のコメント領域（エクスプローラーで出てくるコメント欄と同じもの）\r\n                // ref: https://stackoverflow.com/a/66186660/17124142\r\n                [piexif.TagValues.ImageIFD.XPComment]: [...Buffer.from(JSON.stringify(capture_exif_data), 'ucs2')],\r\n            },\r\n            'Exif': {\r\n                // 必須らしいプロパティ\r\n                // とりあえずデフォルト値 (?) を設定しておく\r\n                [piexif.TagValues.ExifIFD.ExifVersion]: '0230',\r\n                [piexif.TagValues.ExifIFD.ComponentsConfiguration]: '\\x01\\x02\\x03\\x00',\r\n                [piexif.TagValues.ExifIFD.FlashpixVersion]: '0100',\r\n                [piexif.TagValues.ExifIFD.ColorSpace]: 1,\r\n                // 撮影時刻\r\n                [piexif.TagValues.ExifIFD.DateTimeOriginal]: datetime,\r\n                [piexif.TagValues.ExifIFD.DateTimeDigitized]: datetime,\r\n            },\r\n        };\r\n        const exif_string = piexif.dump(exif);  // バイナリ文字列に変換した EXIF データ\r\n\r\n        // piexifjs はバイナリ文字列か DataURL しか受け付けないので、Blob をバイナリ文字列に変換\r\n        const blob_string: string = await new Promise((resolve, reject) => {\r\n            const reader = new FileReader();\r\n            reader.onload = () => resolve(reader.result as string);\r\n            reader.onerror = reject;\r\n            reader.readAsBinaryString(blob);  // バイナリ文字列で読み込む\r\n        });\r\n\r\n        // 画像に EXIF を挿入\r\n        // 戻り値は EXIF が追加された画像のバイナリ文字列 (なぜ未だにバイナリ文字列で実装されてるのか信じられん…)\r\n        const blob_string_with_exif = piexif.insert(exif_string, blob_string);\r\n\r\n        // 画像のバイナリ文字列を ArrayBuffer に変換\r\n        // ref: 「カメラアプリで体感するWeb App」4.2\r\n        const buffer = new Uint8Array(blob_string_with_exif.length);\r\n        for (let index = 0; index < buffer.length; index++) {\r\n            buffer[index] = blob_string_with_exif.charCodeAt(index) & 0xff;\r\n        }\r\n\r\n        // 新しい Blob を返す\r\n        return new Blob([buffer], {type: blob.type});\r\n    }\r\n\r\n\r\n    /**\r\n     * OffscreenCanvas を EXIF メタデータをセットした Blob にエクスポートする\r\n     * @param canvas エクスポートする OffscreenCanvas\r\n     * @param options 字幕やコメントが合成されているかどうかのメタデータ (EXIF に書き込まれる)\r\n     * @returns 変換された Blob\r\n     */\r\n    private async exportToBlob(canvas: OffscreenCanvas, options: {\r\n        is_caption_composited: boolean;\r\n        is_comment_composited: boolean;\r\n    }): Promise<Blob> {\r\n\r\n        // OffscreenCanvas を Blob に変換\r\n        // JPEG 画像の品質は 99% にした方が若干 Blob 変換までの速度が速い (？)\r\n        const start_time = Utils.time();\r\n        const blob = await canvas.convertToBlob({type: 'image/jpeg', quality: 0.99});\r\n\r\n        // Blob に EXIF メタデータをセットして返す\r\n        const blob_with_exif = await this.setEXIFDataToCapture(blob, options);\r\n        console.log('[CaptureCompositor] Export to Blob:', Utils.mathFloor(Utils.time() - start_time, 3), 'sec');\r\n\r\n        return blob_with_exif;\r\n    }\r\n}\r\n\r\n// Comlink にクラスをエクスポート\r\nComlink.expose(CaptureCompositor);\r\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.piexif = {})));\n}(this, (function (exports) { 'use strict';\n\n  const Types = {\r\n      Byte: 1,\r\n      Ascii: 2,\r\n      Short: 3,\r\n      Long: 4,\r\n      Rational: 5,\r\n      Undefined: 7,\r\n      SLong: 9,\r\n      SRational: 10\r\n  };\n\n  class ValueConvertError extends Error {\r\n  }\n\n  const ImageTagElement = {\r\n      11: {\r\n          name: \"ProcessingSoftware\",\r\n          type: Types.Ascii\r\n      },\r\n      254: {\r\n          name: \"NewSubfileType\",\r\n          type: Types.Long\r\n      },\r\n      255: {\r\n          name: \"SubfileType\",\r\n          type: Types.Short\r\n      },\r\n      256: {\r\n          name: \"ImageWidth\",\r\n          type: Types.Long\r\n      },\r\n      257: {\r\n          name: \"ImageLength\",\r\n          type: Types.Long\r\n      },\r\n      258: {\r\n          name: \"BitsPerSample\",\r\n          type: Types.Short\r\n      },\r\n      259: {\r\n          name: \"Compression\",\r\n          type: Types.Short\r\n      },\r\n      262: {\r\n          name: \"PhotometricInterpretation\",\r\n          type: Types.Short\r\n      },\r\n      263: {\r\n          name: \"Threshholding\",\r\n          type: Types.Short\r\n      },\r\n      264: {\r\n          name: \"CellWidth\",\r\n          type: Types.Short\r\n      },\r\n      265: {\r\n          name: \"CellLength\",\r\n          type: Types.Short\r\n      },\r\n      266: {\r\n          name: \"FillOrder\",\r\n          type: Types.Short\r\n      },\r\n      269: {\r\n          name: \"DocumentName\",\r\n          type: Types.Ascii\r\n      },\r\n      270: {\r\n          name: \"ImageDescription\",\r\n          type: Types.Ascii\r\n      },\r\n      271: {\r\n          name: \"Make\",\r\n          type: Types.Ascii\r\n      },\r\n      272: {\r\n          name: \"Model\",\r\n          type: Types.Ascii\r\n      },\r\n      273: {\r\n          name: \"StripOffsets\",\r\n          type: Types.Long\r\n      },\r\n      274: {\r\n          name: \"Orientation\",\r\n          type: Types.Short\r\n      },\r\n      277: {\r\n          name: \"SamplesPerPixel\",\r\n          type: Types.Short\r\n      },\r\n      278: {\r\n          name: \"RowsPerStrip\",\r\n          type: Types.Long\r\n      },\r\n      279: {\r\n          name: \"StripByteCounts\",\r\n          type: Types.Long\r\n      },\r\n      282: {\r\n          name: \"XResolution\",\r\n          type: Types.Rational\r\n      },\r\n      283: {\r\n          name: \"YResolution\",\r\n          type: Types.Rational\r\n      },\r\n      284: {\r\n          name: \"PlanarConfiguration\",\r\n          type: Types.Short\r\n      },\r\n      290: {\r\n          name: \"GrayResponseUnit\",\r\n          type: Types.Short\r\n      },\r\n      291: {\r\n          name: \"GrayResponseCurve\",\r\n          type: Types.Short\r\n      },\r\n      292: {\r\n          name: \"T4Options\",\r\n          type: Types.Long\r\n      },\r\n      293: {\r\n          name: \"T6Options\",\r\n          type: Types.Long\r\n      },\r\n      296: {\r\n          name: \"ResolutionUnit\",\r\n          type: Types.Short\r\n      },\r\n      301: {\r\n          name: \"TransferFunction\",\r\n          type: Types.Short\r\n      },\r\n      305: {\r\n          name: \"Software\",\r\n          type: Types.Ascii\r\n      },\r\n      306: {\r\n          name: \"DateTime\",\r\n          type: Types.Ascii\r\n      },\r\n      315: {\r\n          name: \"Artist\",\r\n          type: Types.Ascii\r\n      },\r\n      316: {\r\n          name: \"HostComputer\",\r\n          type: Types.Ascii\r\n      },\r\n      317: {\r\n          name: \"Predictor\",\r\n          type: Types.Short\r\n      },\r\n      318: {\r\n          name: \"WhitePoint\",\r\n          type: Types.Rational\r\n      },\r\n      319: {\r\n          name: \"PrimaryChromaticities\",\r\n          type: Types.Rational\r\n      },\r\n      320: {\r\n          name: \"ColorMap\",\r\n          type: Types.Short\r\n      },\r\n      321: {\r\n          name: \"HalftoneHints\",\r\n          type: Types.Short\r\n      },\r\n      322: {\r\n          name: \"TileWidth\",\r\n          type: Types.Short\r\n      },\r\n      323: {\r\n          name: \"TileLength\",\r\n          type: Types.Short\r\n      },\r\n      324: {\r\n          name: \"TileOffsets\",\r\n          type: Types.Short\r\n      },\r\n      325: {\r\n          name: \"TileByteCounts\",\r\n          type: Types.Short\r\n      },\r\n      330: {\r\n          name: \"SubIFDs\",\r\n          type: Types.Long\r\n      },\r\n      332: {\r\n          name: \"InkSet\",\r\n          type: Types.Short\r\n      },\r\n      333: {\r\n          name: \"InkNames\",\r\n          type: Types.Ascii\r\n      },\r\n      334: {\r\n          name: \"NumberOfInks\",\r\n          type: Types.Short\r\n      },\r\n      336: {\r\n          name: \"DotRange\",\r\n          type: Types.Byte\r\n      },\r\n      337: {\r\n          name: \"TargetPrinter\",\r\n          type: Types.Ascii\r\n      },\r\n      338: {\r\n          name: \"ExtraSamples\",\r\n          type: Types.Short\r\n      },\r\n      339: {\r\n          name: \"SampleFormat\",\r\n          type: Types.Short\r\n      },\r\n      340: {\r\n          name: \"SMinSampleValue\",\r\n          type: Types.Short\r\n      },\r\n      341: {\r\n          name: \"SMaxSampleValue\",\r\n          type: Types.Short\r\n      },\r\n      342: {\r\n          name: \"TransferRange\",\r\n          type: Types.Short\r\n      },\r\n      343: {\r\n          name: \"ClipPath\",\r\n          type: Types.Byte\r\n      },\r\n      344: {\r\n          name: \"XClipPathUnits\",\r\n          type: Types.Long\r\n      },\r\n      345: {\r\n          name: \"YClipPathUnits\",\r\n          type: Types.Long\r\n      },\r\n      346: {\r\n          name: \"Indexed\",\r\n          type: Types.Short\r\n      },\r\n      347: {\r\n          name: \"JPEGTables\",\r\n          type: Types.Undefined\r\n      },\r\n      351: {\r\n          name: \"OPIProxy\",\r\n          type: Types.Short\r\n      },\r\n      512: {\r\n          name: \"JPEGProc\",\r\n          type: Types.Long\r\n      },\r\n      513: {\r\n          name: \"JPEGInterchangeFormat\",\r\n          type: Types.Long\r\n      },\r\n      514: {\r\n          name: \"JPEGInterchangeFormatLength\",\r\n          type: Types.Long\r\n      },\r\n      515: {\r\n          name: \"JPEGRestartInterval\",\r\n          type: Types.Short\r\n      },\r\n      517: {\r\n          name: \"JPEGLosslessPredictors\",\r\n          type: Types.Short\r\n      },\r\n      518: {\r\n          name: \"JPEGPointTransforms\",\r\n          type: Types.Short\r\n      },\r\n      519: {\r\n          name: \"JPEGQTables\",\r\n          type: Types.Long\r\n      },\r\n      520: {\r\n          name: \"JPEGDCTables\",\r\n          type: Types.Long\r\n      },\r\n      521: {\r\n          name: \"JPEGACTables\",\r\n          type: Types.Long\r\n      },\r\n      529: {\r\n          name: \"YCbCrCoefficients\",\r\n          type: Types.Rational\r\n      },\r\n      530: {\r\n          name: \"YCbCrSubSampling\",\r\n          type: Types.Short\r\n      },\r\n      531: {\r\n          name: \"YCbCrPositioning\",\r\n          type: Types.Short\r\n      },\r\n      532: {\r\n          name: \"ReferenceBlackWhite\",\r\n          type: Types.Rational\r\n      },\r\n      700: {\r\n          name: \"XMLPacket\",\r\n          type: Types.Byte\r\n      },\r\n      18246: {\r\n          name: \"Rating\",\r\n          type: Types.Short\r\n      },\r\n      18249: {\r\n          name: \"RatingPercent\",\r\n          type: Types.Short\r\n      },\r\n      32781: {\r\n          name: \"ImageID\",\r\n          type: Types.Ascii\r\n      },\r\n      33421: {\r\n          name: \"CFARepeatPatternDim\",\r\n          type: Types.Short\r\n      },\r\n      33422: {\r\n          name: \"CFAPattern\",\r\n          type: Types.Byte\r\n      },\r\n      33423: {\r\n          name: \"BatteryLevel\",\r\n          type: Types.Rational\r\n      },\r\n      33432: {\r\n          name: \"Copyright\",\r\n          type: Types.Ascii\r\n      },\r\n      33434: {\r\n          name: \"ExposureTime\",\r\n          type: Types.Rational\r\n      },\r\n      34377: {\r\n          name: \"ImageResources\",\r\n          type: Types.Byte\r\n      },\r\n      34665: {\r\n          name: \"ExifTag\",\r\n          type: Types.Long\r\n      },\r\n      34675: {\r\n          name: \"InterColorProfile\",\r\n          type: Types.Undefined\r\n      },\r\n      34853: {\r\n          name: \"GPSTag\",\r\n          type: Types.Long\r\n      },\r\n      34857: {\r\n          name: \"Interlace\",\r\n          type: Types.Short\r\n      },\r\n      34858: {\r\n          name: \"TimeZoneOffset\",\r\n          type: Types.Long\r\n      },\r\n      34859: {\r\n          name: \"SelfTimerMode\",\r\n          type: Types.Short\r\n      },\r\n      37387: {\r\n          name: \"FlashEnergy\",\r\n          type: Types.Rational\r\n      },\r\n      37388: {\r\n          name: \"SpatialFrequencyResponse\",\r\n          type: Types.Undefined\r\n      },\r\n      37389: {\r\n          name: \"Noise\",\r\n          type: Types.Undefined\r\n      },\r\n      37390: {\r\n          name: \"FocalPlaneXResolution\",\r\n          type: Types.Rational\r\n      },\r\n      37391: {\r\n          name: \"FocalPlaneYResolution\",\r\n          type: Types.Rational\r\n      },\r\n      37392: {\r\n          name: \"FocalPlaneResolutionUnit\",\r\n          type: Types.Short\r\n      },\r\n      37393: {\r\n          name: \"ImageNumber\",\r\n          type: Types.Long\r\n      },\r\n      37394: {\r\n          name: \"SecurityClassification\",\r\n          type: Types.Ascii\r\n      },\r\n      37395: {\r\n          name: \"ImageHistory\",\r\n          type: Types.Ascii\r\n      },\r\n      37397: {\r\n          name: \"ExposureIndex\",\r\n          type: Types.Rational\r\n      },\r\n      37398: {\r\n          name: \"TIFFEPStandardID\",\r\n          type: Types.Byte\r\n      },\r\n      37399: {\r\n          name: \"SensingMethod\",\r\n          type: Types.Short\r\n      },\r\n      40091: {\r\n          name: \"XPTitle\",\r\n          type: Types.Byte\r\n      },\r\n      40092: {\r\n          name: \"XPComment\",\r\n          type: Types.Byte\r\n      },\r\n      40093: {\r\n          name: \"XPAuthor\",\r\n          type: Types.Byte\r\n      },\r\n      40094: {\r\n          name: \"XPKeywords\",\r\n          type: Types.Byte\r\n      },\r\n      40095: {\r\n          name: \"XPSubject\",\r\n          type: Types.Byte\r\n      },\r\n      50341: {\r\n          name: \"PrintImageMatching\",\r\n          type: Types.Undefined\r\n      },\r\n      50706: {\r\n          name: \"DNGVersion\",\r\n          type: Types.Byte\r\n      },\r\n      50707: {\r\n          name: \"DNGBackwardVersion\",\r\n          type: Types.Byte\r\n      },\r\n      50708: {\r\n          name: \"UniqueCameraModel\",\r\n          type: Types.Ascii\r\n      },\r\n      50709: {\r\n          name: \"LocalizedCameraModel\",\r\n          type: Types.Byte\r\n      },\r\n      50710: {\r\n          name: \"CFAPlaneColor\",\r\n          type: Types.Byte\r\n      },\r\n      50711: {\r\n          name: \"CFALayout\",\r\n          type: Types.Short\r\n      },\r\n      50712: {\r\n          name: \"LinearizationTable\",\r\n          type: Types.Short\r\n      },\r\n      50713: {\r\n          name: \"BlackLevelRepeatDim\",\r\n          type: Types.Short\r\n      },\r\n      50714: {\r\n          name: \"BlackLevel\",\r\n          type: Types.Rational\r\n      },\r\n      50715: {\r\n          name: \"BlackLevelDeltaH\",\r\n          type: Types.SRational\r\n      },\r\n      50716: {\r\n          name: \"BlackLevelDeltaV\",\r\n          type: Types.SRational\r\n      },\r\n      50717: {\r\n          name: \"WhiteLevel\",\r\n          type: Types.Short\r\n      },\r\n      50718: {\r\n          name: \"DefaultScale\",\r\n          type: Types.Rational\r\n      },\r\n      50719: {\r\n          name: \"DefaultCropOrigin\",\r\n          type: Types.Short\r\n      },\r\n      50720: {\r\n          name: \"DefaultCropSize\",\r\n          type: Types.Short\r\n      },\r\n      50721: {\r\n          name: \"ColorMatrix1\",\r\n          type: Types.SRational\r\n      },\r\n      50722: {\r\n          name: \"ColorMatrix2\",\r\n          type: Types.SRational\r\n      },\r\n      50723: {\r\n          name: \"CameraCalibration1\",\r\n          type: Types.SRational\r\n      },\r\n      50724: {\r\n          name: \"CameraCalibration2\",\r\n          type: Types.SRational\r\n      },\r\n      50725: {\r\n          name: \"ReductionMatrix1\",\r\n          type: Types.SRational\r\n      },\r\n      50726: {\r\n          name: \"ReductionMatrix2\",\r\n          type: Types.SRational\r\n      },\r\n      50727: {\r\n          name: \"AnalogBalance\",\r\n          type: Types.Rational\r\n      },\r\n      50728: {\r\n          name: \"AsShotNeutral\",\r\n          type: Types.Short\r\n      },\r\n      50729: {\r\n          name: \"AsShotWhiteXY\",\r\n          type: Types.Rational\r\n      },\r\n      50730: {\r\n          name: \"BaselineExposure\",\r\n          type: Types.SRational\r\n      },\r\n      50731: {\r\n          name: \"BaselineNoise\",\r\n          type: Types.Rational\r\n      },\r\n      50732: {\r\n          name: \"BaselineSharpness\",\r\n          type: Types.Rational\r\n      },\r\n      50733: {\r\n          name: \"BayerGreenSplit\",\r\n          type: Types.Long\r\n      },\r\n      50734: {\r\n          name: \"LinearResponseLimit\",\r\n          type: Types.Rational\r\n      },\r\n      50735: {\r\n          name: \"CameraSerialNumber\",\r\n          type: Types.Ascii\r\n      },\r\n      50736: {\r\n          name: \"LensInfo\",\r\n          type: Types.Rational\r\n      },\r\n      50737: {\r\n          name: \"ChromaBlurRadius\",\r\n          type: Types.Rational\r\n      },\r\n      50738: {\r\n          name: \"AntiAliasStrength\",\r\n          type: Types.Rational\r\n      },\r\n      50739: {\r\n          name: \"ShadowScale\",\r\n          type: Types.SRational\r\n      },\r\n      50740: {\r\n          name: \"DNGPrivateData\",\r\n          type: Types.Byte\r\n      },\r\n      50741: {\r\n          name: \"MakerNoteSafety\",\r\n          type: Types.Short\r\n      },\r\n      50778: {\r\n          name: \"CalibrationIlluminant1\",\r\n          type: Types.Short\r\n      },\r\n      50779: {\r\n          name: \"CalibrationIlluminant2\",\r\n          type: Types.Short\r\n      },\r\n      50780: {\r\n          name: \"BestQualityScale\",\r\n          type: Types.Rational\r\n      },\r\n      50781: {\r\n          name: \"RawDataUniqueID\",\r\n          type: Types.Byte\r\n      },\r\n      50827: {\r\n          name: \"OriginalRawFileName\",\r\n          type: Types.Byte\r\n      },\r\n      50828: {\r\n          name: \"OriginalRawFileData\",\r\n          type: Types.Undefined\r\n      },\r\n      50829: {\r\n          name: \"ActiveArea\",\r\n          type: Types.Short\r\n      },\r\n      50830: {\r\n          name: \"MaskedAreas\",\r\n          type: Types.Short\r\n      },\r\n      50831: {\r\n          name: \"AsShotICCProfile\",\r\n          type: Types.Undefined\r\n      },\r\n      50832: {\r\n          name: \"AsShotPreProfileMatrix\",\r\n          type: Types.SRational\r\n      },\r\n      50833: {\r\n          name: \"CurrentICCProfile\",\r\n          type: Types.Undefined\r\n      },\r\n      50834: {\r\n          name: \"CurrentPreProfileMatrix\",\r\n          type: Types.SRational\r\n      },\r\n      50879: {\r\n          name: \"ColorimetricReference\",\r\n          type: Types.Short\r\n      },\r\n      50931: {\r\n          name: \"CameraCalibrationSignature\",\r\n          type: Types.Byte\r\n      },\r\n      50932: {\r\n          name: \"ProfileCalibrationSignature\",\r\n          type: Types.Byte\r\n      },\r\n      50934: {\r\n          name: \"AsShotProfileName\",\r\n          type: Types.Byte\r\n      },\r\n      50935: {\r\n          name: \"NoiseReductionApplied\",\r\n          type: Types.Rational\r\n      },\r\n      50936: {\r\n          name: \"ProfileName\",\r\n          type: Types.Byte\r\n      },\r\n      50937: {\r\n          name: \"ProfileHueSatMapDims\",\r\n          type: Types.Long\r\n      },\r\n      50941: {\r\n          name: \"ProfileEmbedPolicy\",\r\n          type: Types.Long\r\n      },\r\n      50942: {\r\n          name: \"ProfileCopyright\",\r\n          type: Types.Byte\r\n      },\r\n      50964: {\r\n          name: \"ForwardMatrix1\",\r\n          type: Types.SRational\r\n      },\r\n      50965: {\r\n          name: \"ForwardMatrix2\",\r\n          type: Types.SRational\r\n      },\r\n      50966: {\r\n          name: \"PreviewApplicationName\",\r\n          type: Types.Byte\r\n      },\r\n      50967: {\r\n          name: \"PreviewApplicationVersion\",\r\n          type: Types.Byte\r\n      },\r\n      50968: {\r\n          name: \"PreviewSettingsName\",\r\n          type: Types.Byte\r\n      },\r\n      50969: {\r\n          name: \"PreviewSettingsDigest\",\r\n          type: Types.Byte\r\n      },\r\n      50970: {\r\n          name: \"PreviewColorSpace\",\r\n          type: Types.Long\r\n      },\r\n      50971: {\r\n          name: \"PreviewDateTime\",\r\n          type: Types.Ascii\r\n      },\r\n      50972: {\r\n          name: \"RawImageDigest\",\r\n          type: Types.Undefined\r\n      },\r\n      50973: {\r\n          name: \"OriginalRawFileDigest\",\r\n          type: Types.Undefined\r\n      },\r\n      50974: {\r\n          name: \"SubTileBlockSize\",\r\n          type: Types.Long\r\n      },\r\n      50975: {\r\n          name: \"RowInterleaveFactor\",\r\n          type: Types.Long\r\n      },\r\n      50981: {\r\n          name: \"ProfileLookTableDims\",\r\n          type: Types.Long\r\n      },\r\n      51008: {\r\n          name: \"OpcodeList1\",\r\n          type: Types.Undefined\r\n      },\r\n      51009: {\r\n          name: \"OpcodeList2\",\r\n          type: Types.Undefined\r\n      },\r\n      51022: {\r\n          name: \"OpcodeList3\",\r\n          type: Types.Undefined\r\n      }\r\n  };\r\n  const Tags = {\r\n      Image: ImageTagElement,\r\n      \"0th\": ImageTagElement,\r\n      \"1st\": ImageTagElement,\r\n      Exif: {\r\n          33434: {\r\n              name: \"ExposureTime\",\r\n              type: Types.Rational\r\n          },\r\n          33437: {\r\n              name: \"FNumber\",\r\n              type: Types.Rational\r\n          },\r\n          34850: {\r\n              name: \"ExposureProgram\",\r\n              type: Types.Short\r\n          },\r\n          34852: {\r\n              name: \"SpectralSensitivity\",\r\n              type: Types.Ascii\r\n          },\r\n          34855: {\r\n              name: \"ISOSpeedRatings\",\r\n              type: Types.Short\r\n          },\r\n          34856: {\r\n              name: \"OECF\",\r\n              type: Types.Undefined\r\n          },\r\n          34864: {\r\n              name: \"SensitivityType\",\r\n              type: Types.Short\r\n          },\r\n          34865: {\r\n              name: \"StandardOutputSensitivity\",\r\n              type: Types.Long\r\n          },\r\n          34866: {\r\n              name: \"RecommendedExposureIndex\",\r\n              type: Types.Long\r\n          },\r\n          34867: {\r\n              name: \"ISOSpeed\",\r\n              type: Types.Long\r\n          },\r\n          34868: {\r\n              name: \"ISOSpeedLatitudeyyy\",\r\n              type: Types.Long\r\n          },\r\n          34869: {\r\n              name: \"ISOSpeedLatitudezzz\",\r\n              type: Types.Long\r\n          },\r\n          36864: {\r\n              name: \"ExifVersion\",\r\n              type: Types.Undefined\r\n          },\r\n          36867: {\r\n              name: \"DateTimeOriginal\",\r\n              type: Types.Ascii\r\n          },\r\n          36868: {\r\n              name: \"DateTimeDigitized\",\r\n              type: Types.Ascii\r\n          },\r\n          37121: {\r\n              name: \"ComponentsConfiguration\",\r\n              type: Types.Undefined\r\n          },\r\n          37122: {\r\n              name: \"CompressedBitsPerPixel\",\r\n              type: Types.Rational\r\n          },\r\n          37377: {\r\n              name: \"ShutterSpeedValue\",\r\n              type: Types.SRational\r\n          },\r\n          37378: {\r\n              name: \"ApertureValue\",\r\n              type: Types.Rational\r\n          },\r\n          37379: {\r\n              name: \"BrightnessValue\",\r\n              type: Types.SRational\r\n          },\r\n          37380: {\r\n              name: \"ExposureBiasValue\",\r\n              type: Types.SRational\r\n          },\r\n          37381: {\r\n              name: \"MaxApertureValue\",\r\n              type: Types.Rational\r\n          },\r\n          37382: {\r\n              name: \"SubjectDistance\",\r\n              type: Types.Rational\r\n          },\r\n          37383: {\r\n              name: \"MeteringMode\",\r\n              type: Types.Short\r\n          },\r\n          37384: {\r\n              name: \"LightSource\",\r\n              type: Types.Short\r\n          },\r\n          37385: {\r\n              name: \"Flash\",\r\n              type: Types.Short\r\n          },\r\n          37386: {\r\n              name: \"FocalLength\",\r\n              type: Types.Rational\r\n          },\r\n          37396: {\r\n              name: \"SubjectArea\",\r\n              type: Types.Short\r\n          },\r\n          37500: {\r\n              name: \"MakerNote\",\r\n              type: Types.Undefined\r\n          },\r\n          37510: {\r\n              name: \"UserComment\",\r\n              type: Types.Ascii\r\n          },\r\n          37520: {\r\n              name: \"SubSecTime\",\r\n              type: Types.Ascii\r\n          },\r\n          37521: {\r\n              name: \"SubSecTimeOriginal\",\r\n              type: Types.Ascii\r\n          },\r\n          37522: {\r\n              name: \"SubSecTimeDigitized\",\r\n              type: Types.Ascii\r\n          },\r\n          40960: {\r\n              name: \"FlashpixVersion\",\r\n              type: Types.Undefined\r\n          },\r\n          40961: {\r\n              name: \"ColorSpace\",\r\n              type: Types.Short\r\n          },\r\n          40962: {\r\n              name: \"PixelXDimension\",\r\n              type: Types.Long\r\n          },\r\n          40963: {\r\n              name: \"PixelYDimension\",\r\n              type: Types.Long\r\n          },\r\n          40964: {\r\n              name: \"RelatedSoundFile\",\r\n              type: Types.Ascii\r\n          },\r\n          40965: {\r\n              name: \"InteroperabilityTag\",\r\n              type: Types.Long\r\n          },\r\n          41483: {\r\n              name: \"FlashEnergy\",\r\n              type: Types.Rational\r\n          },\r\n          41484: {\r\n              name: \"SpatialFrequencyResponse\",\r\n              type: Types.Undefined\r\n          },\r\n          41486: {\r\n              name: \"FocalPlaneXResolution\",\r\n              type: Types.Rational\r\n          },\r\n          41487: {\r\n              name: \"FocalPlaneYResolution\",\r\n              type: Types.Rational\r\n          },\r\n          41488: {\r\n              name: \"FocalPlaneResolutionUnit\",\r\n              type: Types.Short\r\n          },\r\n          41492: {\r\n              name: \"SubjectLocation\",\r\n              type: Types.Short\r\n          },\r\n          41493: {\r\n              name: \"ExposureIndex\",\r\n              type: Types.Rational\r\n          },\r\n          41495: {\r\n              name: \"SensingMethod\",\r\n              type: Types.Short\r\n          },\r\n          41728: {\r\n              name: \"FileSource\",\r\n              type: Types.Undefined\r\n          },\r\n          41729: {\r\n              name: \"SceneType\",\r\n              type: Types.Undefined\r\n          },\r\n          41730: {\r\n              name: \"CFAPattern\",\r\n              type: Types.Undefined\r\n          },\r\n          41985: {\r\n              name: \"CustomRendered\",\r\n              type: Types.Short\r\n          },\r\n          41986: {\r\n              name: \"ExposureMode\",\r\n              type: Types.Short\r\n          },\r\n          41987: {\r\n              name: \"WhiteBalance\",\r\n              type: Types.Short\r\n          },\r\n          41988: {\r\n              name: \"DigitalZoomRatio\",\r\n              type: Types.Rational\r\n          },\r\n          41989: {\r\n              name: \"FocalLengthIn35mmFilm\",\r\n              type: Types.Short\r\n          },\r\n          41990: {\r\n              name: \"SceneCaptureType\",\r\n              type: Types.Short\r\n          },\r\n          41991: {\r\n              name: \"GainControl\",\r\n              type: Types.Short\r\n          },\r\n          41992: {\r\n              name: \"Contrast\",\r\n              type: Types.Short\r\n          },\r\n          41993: {\r\n              name: \"Saturation\",\r\n              type: Types.Short\r\n          },\r\n          41994: {\r\n              name: \"Sharpness\",\r\n              type: Types.Short\r\n          },\r\n          41995: {\r\n              name: \"DeviceSettingDescription\",\r\n              type: Types.Undefined\r\n          },\r\n          41996: {\r\n              name: \"SubjectDistanceRange\",\r\n              type: Types.Short\r\n          },\r\n          42016: {\r\n              name: \"ImageUniqueID\",\r\n              type: Types.Ascii\r\n          },\r\n          42032: {\r\n              name: \"CameraOwnerName\",\r\n              type: Types.Ascii\r\n          },\r\n          42033: {\r\n              name: \"BodySerialNumber\",\r\n              type: Types.Ascii\r\n          },\r\n          42034: {\r\n              name: \"LensSpecification\",\r\n              type: Types.Rational\r\n          },\r\n          42035: {\r\n              name: \"LensMake\",\r\n              type: Types.Ascii\r\n          },\r\n          42036: {\r\n              name: \"LensModel\",\r\n              type: Types.Ascii\r\n          },\r\n          42037: {\r\n              name: \"LensSerialNumber\",\r\n              type: Types.Ascii\r\n          },\r\n          42240: {\r\n              name: \"Gamma\",\r\n              type: Types.Rational\r\n          }\r\n      },\r\n      GPS: {\r\n          0: {\r\n              name: \"GPSVersionID\",\r\n              type: Types.Byte\r\n          },\r\n          1: {\r\n              name: \"GPSLatitudeRef\",\r\n              type: Types.Ascii\r\n          },\r\n          2: {\r\n              name: \"GPSLatitude\",\r\n              type: Types.Rational\r\n          },\r\n          3: {\r\n              name: \"GPSLongitudeRef\",\r\n              type: Types.Ascii\r\n          },\r\n          4: {\r\n              name: \"GPSLongitude\",\r\n              type: Types.Rational\r\n          },\r\n          5: {\r\n              name: \"GPSAltitudeRef\",\r\n              type: Types.Byte\r\n          },\r\n          6: {\r\n              name: \"GPSAltitude\",\r\n              type: Types.Rational\r\n          },\r\n          7: {\r\n              name: \"GPSTimeStamp\",\r\n              type: Types.Rational\r\n          },\r\n          8: {\r\n              name: \"GPSSatellites\",\r\n              type: Types.Ascii\r\n          },\r\n          9: {\r\n              name: \"GPSStatus\",\r\n              type: Types.Ascii\r\n          },\r\n          10: {\r\n              name: \"GPSMeasureMode\",\r\n              type: Types.Ascii\r\n          },\r\n          11: {\r\n              name: \"GPSDOP\",\r\n              type: Types.Rational\r\n          },\r\n          12: {\r\n              name: \"GPSSpeedRef\",\r\n              type: Types.Ascii\r\n          },\r\n          13: {\r\n              name: \"GPSSpeed\",\r\n              type: Types.Rational\r\n          },\r\n          14: {\r\n              name: \"GPSTrackRef\",\r\n              type: Types.Ascii\r\n          },\r\n          15: {\r\n              name: \"GPSTrack\",\r\n              type: Types.Rational\r\n          },\r\n          16: {\r\n              name: \"GPSImgDirectionRef\",\r\n              type: Types.Ascii\r\n          },\r\n          17: {\r\n              name: \"GPSImgDirection\",\r\n              type: Types.Rational\r\n          },\r\n          18: {\r\n              name: \"GPSMapDatum\",\r\n              type: Types.Ascii\r\n          },\r\n          19: {\r\n              name: \"GPSDestLatitudeRef\",\r\n              type: Types.Ascii\r\n          },\r\n          20: {\r\n              name: \"GPSDestLatitude\",\r\n              type: Types.Rational\r\n          },\r\n          21: {\r\n              name: \"GPSDestLongitudeRef\",\r\n              type: Types.Ascii\r\n          },\r\n          22: {\r\n              name: \"GPSDestLongitude\",\r\n              type: Types.Rational\r\n          },\r\n          23: {\r\n              name: \"GPSDestBearingRef\",\r\n              type: Types.Ascii\r\n          },\r\n          24: {\r\n              name: \"GPSDestBearing\",\r\n              type: Types.Rational\r\n          },\r\n          25: {\r\n              name: \"GPSDestDistanceRef\",\r\n              type: Types.Ascii\r\n          },\r\n          26: {\r\n              name: \"GPSDestDistance\",\r\n              type: Types.Rational\r\n          },\r\n          27: {\r\n              name: \"GPSProcessingMethod\",\r\n              type: Types.Undefined\r\n          },\r\n          28: {\r\n              name: \"GPSAreaInformation\",\r\n              type: Types.Undefined\r\n          },\r\n          29: {\r\n              name: \"GPSDateStamp\",\r\n              type: Types.Ascii\r\n          },\r\n          30: {\r\n              name: \"GPSDifferential\",\r\n              type: Types.Short\r\n          },\r\n          31: {\r\n              name: \"GPSHPositioningError\",\r\n              type: Types.Rational\r\n          }\r\n      },\r\n      Interop: {\r\n          1: {\r\n              name: \"InteroperabilityIndex\",\r\n              type: Types.Ascii\r\n          }\r\n      }\r\n  };\r\n  const TagValues = {\r\n      ImageIFD: {\r\n          ProcessingSoftware: 11,\r\n          NewSubfileType: 254,\r\n          SubfileType: 255,\r\n          ImageWidth: 256,\r\n          ImageLength: 257,\r\n          BitsPerSample: 258,\r\n          Compression: 259,\r\n          PhotometricInterpretation: 262,\r\n          Threshholding: 263,\r\n          CellWidth: 264,\r\n          CellLength: 265,\r\n          FillOrder: 266,\r\n          DocumentName: 269,\r\n          ImageDescription: 270,\r\n          Make: 271,\r\n          Model: 272,\r\n          StripOffsets: 273,\r\n          Orientation: 274,\r\n          SamplesPerPixel: 277,\r\n          RowsPerStrip: 278,\r\n          StripByteCounts: 279,\r\n          XResolution: 282,\r\n          YResolution: 283,\r\n          PlanarConfiguration: 284,\r\n          GrayResponseUnit: 290,\r\n          GrayResponseCurve: 291,\r\n          T4Options: 292,\r\n          T6Options: 293,\r\n          ResolutionUnit: 296,\r\n          TransferFunction: 301,\r\n          Software: 305,\r\n          DateTime: 306,\r\n          Artist: 315,\r\n          HostComputer: 316,\r\n          Predictor: 317,\r\n          WhitePoint: 318,\r\n          PrimaryChromaticities: 319,\r\n          ColorMap: 320,\r\n          HalftoneHints: 321,\r\n          TileWidth: 322,\r\n          TileLength: 323,\r\n          TileOffsets: 324,\r\n          TileByteCounts: 325,\r\n          SubIFDs: 330,\r\n          InkSet: 332,\r\n          InkNames: 333,\r\n          NumberOfInks: 334,\r\n          DotRange: 336,\r\n          TargetPrinter: 337,\r\n          ExtraSamples: 338,\r\n          SampleFormat: 339,\r\n          SMinSampleValue: 340,\r\n          SMaxSampleValue: 341,\r\n          TransferRange: 342,\r\n          ClipPath: 343,\r\n          XClipPathUnits: 344,\r\n          YClipPathUnits: 345,\r\n          Indexed: 346,\r\n          JPEGTables: 347,\r\n          OPIProxy: 351,\r\n          JPEGProc: 512,\r\n          JPEGInterchangeFormat: 513,\r\n          JPEGInterchangeFormatLength: 514,\r\n          JPEGRestartInterval: 515,\r\n          JPEGLosslessPredictors: 517,\r\n          JPEGPointTransforms: 518,\r\n          JPEGQTables: 519,\r\n          JPEGDCTables: 520,\r\n          JPEGACTables: 521,\r\n          YCbCrCoefficients: 529,\r\n          YCbCrSubSampling: 530,\r\n          YCbCrPositioning: 531,\r\n          ReferenceBlackWhite: 532,\r\n          XMLPacket: 700,\r\n          Rating: 18246,\r\n          RatingPercent: 18249,\r\n          ImageID: 32781,\r\n          CFARepeatPatternDim: 33421,\r\n          CFAPattern: 33422,\r\n          BatteryLevel: 33423,\r\n          Copyright: 33432,\r\n          ExposureTime: 33434,\r\n          ImageResources: 34377,\r\n          ExifTag: 34665,\r\n          InterColorProfile: 34675,\r\n          GPSTag: 34853,\r\n          Interlace: 34857,\r\n          TimeZoneOffset: 34858,\r\n          SelfTimerMode: 34859,\r\n          FlashEnergy: 37387,\r\n          SpatialFrequencyResponse: 37388,\r\n          Noise: 37389,\r\n          FocalPlaneXResolution: 37390,\r\n          FocalPlaneYResolution: 37391,\r\n          FocalPlaneResolutionUnit: 37392,\r\n          ImageNumber: 37393,\r\n          SecurityClassification: 37394,\r\n          ImageHistory: 37395,\r\n          ExposureIndex: 37397,\r\n          TIFFEPStandardID: 37398,\r\n          SensingMethod: 37399,\r\n          XPTitle: 40091,\r\n          XPComment: 40092,\r\n          XPAuthor: 40093,\r\n          XPKeywords: 40094,\r\n          XPSubject: 40095,\r\n          PrintImageMatching: 50341,\r\n          DNGVersion: 50706,\r\n          DNGBackwardVersion: 50707,\r\n          UniqueCameraModel: 50708,\r\n          LocalizedCameraModel: 50709,\r\n          CFAPlaneColor: 50710,\r\n          CFALayout: 50711,\r\n          LinearizationTable: 50712,\r\n          BlackLevelRepeatDim: 50713,\r\n          BlackLevel: 50714,\r\n          BlackLevelDeltaH: 50715,\r\n          BlackLevelDeltaV: 50716,\r\n          WhiteLevel: 50717,\r\n          DefaultScale: 50718,\r\n          DefaultCropOrigin: 50719,\r\n          DefaultCropSize: 50720,\r\n          ColorMatrix1: 50721,\r\n          ColorMatrix2: 50722,\r\n          CameraCalibration1: 50723,\r\n          CameraCalibration2: 50724,\r\n          ReductionMatrix1: 50725,\r\n          ReductionMatrix2: 50726,\r\n          AnalogBalance: 50727,\r\n          AsShotNeutral: 50728,\r\n          AsShotWhiteXY: 50729,\r\n          BaselineExposure: 50730,\r\n          BaselineNoise: 50731,\r\n          BaselineSharpness: 50732,\r\n          BayerGreenSplit: 50733,\r\n          LinearResponseLimit: 50734,\r\n          CameraSerialNumber: 50735,\r\n          LensInfo: 50736,\r\n          ChromaBlurRadius: 50737,\r\n          AntiAliasStrength: 50738,\r\n          ShadowScale: 50739,\r\n          DNGPrivateData: 50740,\r\n          MakerNoteSafety: 50741,\r\n          CalibrationIlluminant1: 50778,\r\n          CalibrationIlluminant2: 50779,\r\n          BestQualityScale: 50780,\r\n          RawDataUniqueID: 50781,\r\n          OriginalRawFileName: 50827,\r\n          OriginalRawFileData: 50828,\r\n          ActiveArea: 50829,\r\n          MaskedAreas: 50830,\r\n          AsShotICCProfile: 50831,\r\n          AsShotPreProfileMatrix: 50832,\r\n          CurrentICCProfile: 50833,\r\n          CurrentPreProfileMatrix: 50834,\r\n          ColorimetricReference: 50879,\r\n          CameraCalibrationSignature: 50931,\r\n          ProfileCalibrationSignature: 50932,\r\n          AsShotProfileName: 50934,\r\n          NoiseReductionApplied: 50935,\r\n          ProfileName: 50936,\r\n          ProfileHueSatMapDims: 50937,\r\n          ProfileHueSatMapData1: 50938,\r\n          ProfileHueSatMapData2: 50939,\r\n          ProfileToneCurve: 50940,\r\n          ProfileEmbedPolicy: 50941,\r\n          ProfileCopyright: 50942,\r\n          ForwardMatrix1: 50964,\r\n          ForwardMatrix2: 50965,\r\n          PreviewApplicationName: 50966,\r\n          PreviewApplicationVersion: 50967,\r\n          PreviewSettingsName: 50968,\r\n          PreviewSettingsDigest: 50969,\r\n          PreviewColorSpace: 50970,\r\n          PreviewDateTime: 50971,\r\n          RawImageDigest: 50972,\r\n          OriginalRawFileDigest: 50973,\r\n          SubTileBlockSize: 50974,\r\n          RowInterleaveFactor: 50975,\r\n          ProfileLookTableDims: 50981,\r\n          ProfileLookTableData: 50982,\r\n          OpcodeList1: 51008,\r\n          OpcodeList2: 51009,\r\n          OpcodeList3: 51022,\r\n          NoiseProfile: 51041\r\n      },\r\n      ExifIFD: {\r\n          ExposureTime: 33434,\r\n          FNumber: 33437,\r\n          ExposureProgram: 34850,\r\n          SpectralSensitivity: 34852,\r\n          ISOSpeedRatings: 34855,\r\n          OECF: 34856,\r\n          SensitivityType: 34864,\r\n          StandardOutputSensitivity: 34865,\r\n          RecommendedExposureIndex: 34866,\r\n          ISOSpeed: 34867,\r\n          ISOSpeedLatitudeyyy: 34868,\r\n          ISOSpeedLatitudezzz: 34869,\r\n          ExifVersion: 36864,\r\n          DateTimeOriginal: 36867,\r\n          DateTimeDigitized: 36868,\r\n          ComponentsConfiguration: 37121,\r\n          CompressedBitsPerPixel: 37122,\r\n          ShutterSpeedValue: 37377,\r\n          ApertureValue: 37378,\r\n          BrightnessValue: 37379,\r\n          ExposureBiasValue: 37380,\r\n          MaxApertureValue: 37381,\r\n          SubjectDistance: 37382,\r\n          MeteringMode: 37383,\r\n          LightSource: 37384,\r\n          Flash: 37385,\r\n          FocalLength: 37386,\r\n          SubjectArea: 37396,\r\n          MakerNote: 37500,\r\n          UserComment: 37510,\r\n          SubSecTime: 37520,\r\n          SubSecTimeOriginal: 37521,\r\n          SubSecTimeDigitized: 37522,\r\n          FlashpixVersion: 40960,\r\n          ColorSpace: 40961,\r\n          PixelXDimension: 40962,\r\n          PixelYDimension: 40963,\r\n          RelatedSoundFile: 40964,\r\n          InteroperabilityTag: 40965,\r\n          FlashEnergy: 41483,\r\n          SpatialFrequencyResponse: 41484,\r\n          FocalPlaneXResolution: 41486,\r\n          FocalPlaneYResolution: 41487,\r\n          FocalPlaneResolutionUnit: 41488,\r\n          SubjectLocation: 41492,\r\n          ExposureIndex: 41493,\r\n          SensingMethod: 41495,\r\n          FileSource: 41728,\r\n          SceneType: 41729,\r\n          CFAPattern: 41730,\r\n          CustomRendered: 41985,\r\n          ExposureMode: 41986,\r\n          WhiteBalance: 41987,\r\n          DigitalZoomRatio: 41988,\r\n          FocalLengthIn35mmFilm: 41989,\r\n          SceneCaptureType: 41990,\r\n          GainControl: 41991,\r\n          Contrast: 41992,\r\n          Saturation: 41993,\r\n          Sharpness: 41994,\r\n          DeviceSettingDescription: 41995,\r\n          SubjectDistanceRange: 41996,\r\n          ImageUniqueID: 42016,\r\n          CameraOwnerName: 42032,\r\n          BodySerialNumber: 42033,\r\n          LensSpecification: 42034,\r\n          LensMake: 42035,\r\n          LensModel: 42036,\r\n          LensSerialNumber: 42037,\r\n          Gamma: 42240\r\n      },\r\n      GPSIFD: {\r\n          GPSVersionID: 0,\r\n          GPSLatitudeRef: 1,\r\n          GPSLatitude: 2,\r\n          GPSLongitudeRef: 3,\r\n          GPSLongitude: 4,\r\n          GPSAltitudeRef: 5,\r\n          GPSAltitude: 6,\r\n          GPSTimeStamp: 7,\r\n          GPSSatellites: 8,\r\n          GPSStatus: 9,\r\n          GPSMeasureMode: 10,\r\n          GPSDOP: 11,\r\n          GPSSpeedRef: 12,\r\n          GPSSpeed: 13,\r\n          GPSTrackRef: 14,\r\n          GPSTrack: 15,\r\n          GPSImgDirectionRef: 16,\r\n          GPSImgDirection: 17,\r\n          GPSMapDatum: 18,\r\n          GPSDestLatitudeRef: 19,\r\n          GPSDestLatitude: 20,\r\n          GPSDestLongitudeRef: 21,\r\n          GPSDestLongitude: 22,\r\n          GPSDestBearingRef: 23,\r\n          GPSDestBearing: 24,\r\n          GPSDestDistanceRef: 25,\r\n          GPSDestDistance: 26,\r\n          GPSProcessingMethod: 27,\r\n          GPSAreaInformation: 28,\r\n          GPSDateStamp: 29,\r\n          GPSDifferential: 30,\r\n          GPSHPositioningError: 31\r\n      },\r\n      InteropIFD: {\r\n          InteroperabilityIndex: 1\r\n      }\r\n  };\n\n  const _nLoopStr = (ch, num) => {\r\n      let str = \"\";\r\n      for (let i = 0; i < num; i++) {\r\n          str += ch;\r\n      }\r\n      return str;\r\n  };\r\n  const pack = (mark, array) => {\r\n      if (!(array instanceof Array)) {\r\n          throw new Error(\"'pack' error. Got invalid type argument.\");\r\n      }\r\n      if (mark.length - 1 != array.length) {\r\n          throw new Error(`'pack' error. ${mark.length - 1} marks, ${array.length} elements.`);\r\n      }\r\n      let littleEndian;\r\n      if (mark[0] == \"<\") {\r\n          littleEndian = true;\r\n      }\r\n      else if (mark[0] == \">\") {\r\n          littleEndian = false;\r\n      }\r\n      else {\r\n          throw new Error(\"Not match any endian.\");\r\n      }\r\n      let packed = \"\";\r\n      let p = 1;\r\n      let val = null;\r\n      let c = null;\r\n      let valBinary = null;\r\n      while ((c = mark[p])) {\r\n          if (c.toLowerCase() == \"b\") {\r\n              val = array[p - 1];\r\n              if (c == \"b\" && val < 0) {\r\n                  val += 0x100;\r\n              }\r\n              if (val > 0xff || val < 0) {\r\n                  throw new Error(\"'pack' error.\");\r\n              }\r\n              else {\r\n                  valBinary = String.fromCharCode(val);\r\n              }\r\n          }\r\n          else if (c == \"H\") {\r\n              val = array[p - 1];\r\n              if (val > 0xffff || val < 0) {\r\n                  throw new Error(\"'pack' error.\");\r\n              }\r\n              else {\r\n                  valBinary =\r\n                      String.fromCharCode(Math.floor((val % 0x10000) / 0x100)) +\r\n                          String.fromCharCode(val % 0x100);\r\n                  if (littleEndian) {\r\n                      valBinary = valBinary\r\n                          .split(\"\")\r\n                          .reverse()\r\n                          .join(\"\");\r\n                  }\r\n              }\r\n          }\r\n          else if (c.toLowerCase() == \"l\") {\r\n              val = array[p - 1];\r\n              if (c == \"l\" && val < 0) {\r\n                  val += 0x100000000;\r\n              }\r\n              if (val > 0xffffffff || val < 0) {\r\n                  throw new Error(\"'pack' error.\");\r\n              }\r\n              else {\r\n                  valBinary =\r\n                      String.fromCharCode(Math.floor(val / 0x1000000)) +\r\n                          String.fromCharCode(Math.floor((val % 0x1000000) / 0x10000)) +\r\n                          String.fromCharCode(Math.floor((val % 0x10000) / 0x100)) +\r\n                          String.fromCharCode(val % 0x100);\r\n                  if (littleEndian) {\r\n                      valBinary = valBinary\r\n                          .split(\"\")\r\n                          .reverse()\r\n                          .join(\"\");\r\n                  }\r\n              }\r\n          }\r\n          else {\r\n              throw new Error(\"'pack' error.\");\r\n          }\r\n          packed += valBinary;\r\n          p += 1;\r\n      }\r\n      return packed;\r\n  };\r\n  const unpack = (mark, str) => {\r\n      if (typeof str != \"string\") {\r\n          throw new Error(\"'unpack' error. Got invalid type argument.\");\r\n      }\r\n      let l = 0;\r\n      for (let markPointer = 1; markPointer < mark.length; markPointer++) {\r\n          if (mark[markPointer].toLowerCase() == \"b\") {\r\n              l += 1;\r\n          }\r\n          else if (mark[markPointer].toLowerCase() == \"h\") {\r\n              l += 2;\r\n          }\r\n          else if (mark[markPointer].toLowerCase() == \"l\") {\r\n              l += 4;\r\n          }\r\n          else {\r\n              throw new Error(\"'unpack' error. Got invalid mark.\");\r\n          }\r\n      }\r\n      if (l != str.length) {\r\n          throw new Error(\"'unpack' error. Mismatch between symbol and string length. \" +\r\n              l +\r\n              \":\" +\r\n              str.length);\r\n      }\r\n      let littleEndian;\r\n      if (mark[0] == \"<\") {\r\n          littleEndian = true;\r\n      }\r\n      else if (mark[0] == \">\") {\r\n          littleEndian = false;\r\n      }\r\n      else {\r\n          throw new Error(\"'unpack' error.\");\r\n      }\r\n      const unpacked = [];\r\n      let strPointer = 0;\r\n      let p = 1;\r\n      let val = null;\r\n      let c = null;\r\n      let length = null;\r\n      let sliced = \"\";\r\n      while ((c = mark[p])) {\r\n          if (c.toLowerCase() == \"b\") {\r\n              length = 1;\r\n              sliced = str.slice(strPointer, strPointer + length);\r\n              val = sliced.charCodeAt(0);\r\n              if (c == \"b\" && val >= 0x80) {\r\n                  val -= 0x100;\r\n              }\r\n          }\r\n          else if (c == \"H\") {\r\n              length = 2;\r\n              sliced = str.slice(strPointer, strPointer + length);\r\n              if (littleEndian) {\r\n                  sliced = sliced\r\n                      .split(\"\")\r\n                      .reverse()\r\n                      .join(\"\");\r\n              }\r\n              val = sliced.charCodeAt(0) * 0x100 + sliced.charCodeAt(1);\r\n          }\r\n          else if (c.toLowerCase() == \"l\") {\r\n              length = 4;\r\n              sliced = str.slice(strPointer, strPointer + length);\r\n              if (littleEndian) {\r\n                  sliced = sliced\r\n                      .split(\"\")\r\n                      .reverse()\r\n                      .join(\"\");\r\n              }\r\n              val =\r\n                  sliced.charCodeAt(0) * 0x1000000 +\r\n                      sliced.charCodeAt(1) * 0x10000 +\r\n                      sliced.charCodeAt(2) * 0x100 +\r\n                      sliced.charCodeAt(3);\r\n              if (c == \"l\" && val >= 0x80000000) {\r\n                  val -= 0x100000000;\r\n              }\r\n          }\r\n          else {\r\n              throw new Error(\"'unpack' error. \" + c);\r\n          }\r\n          unpacked.push(val);\r\n          strPointer += length;\r\n          p += 1;\r\n      }\r\n      return unpacked;\r\n  };\r\n  const _isBrowser = new Function(\"try {return this===window;}catch(e){ return false;}\")();\r\n  const atob = _isBrowser\r\n      ? window.atob\r\n      : (input) => {\r\n          const decoded = Buffer.from(input, \"base64\");\r\n          return decoded;\r\n      };\r\n  const btoa = _isBrowser\r\n      ? window.btoa\r\n      : (input) => {\r\n          const buf = Buffer.from(input);\r\n          const encoded = buf.toString(\"base64\");\r\n          return encoded;\r\n      };\r\n  const _packByte = (array) => {\r\n      return pack(\">\" + _nLoopStr(\"B\", array.length), array);\r\n  };\r\n  const _packShort = (array) => {\r\n      return pack(\">\" + _nLoopStr(\"H\", array.length), array);\r\n  };\r\n  const _packLong = (array) => {\r\n      return pack(\">\" + _nLoopStr(\"L\", array.length), array);\r\n  };\r\n  const copy = (obj) => {\r\n      const copied = {};\r\n      Object.assign(copied, obj);\r\n      return obj;\r\n  };\r\n  const getThumbnail = (jpeg) => {\r\n      let segments = splitIntoSegments(jpeg);\r\n      while (\"\\xff\\xe0\" <= segments[1].slice(0, 2) &&\r\n          segments[1].slice(0, 2) <= \"\\xff\\xef\") {\r\n          segments = [segments[0]].concat(segments.slice(2));\r\n      }\r\n      return segments.join(\"\");\r\n  };\r\n  const _valueToBytes = (rawValue, valueType, offset) => {\r\n      let tagBinary;\r\n      if (valueType == Types.Byte) {\r\n          tagBinary = _toByte(rawValue, offset);\r\n      }\r\n      else if (valueType == Types.Ascii) {\r\n          tagBinary = _toAscii(rawValue, offset);\r\n      }\r\n      else if (valueType == Types.Short) {\r\n          tagBinary = _toShort(rawValue, offset);\r\n      }\r\n      else if (valueType == Types.Long) {\r\n          tagBinary = _toLong(rawValue, offset);\r\n      }\r\n      else if (valueType == Types.Rational) {\r\n          tagBinary = _toRational(rawValue, offset);\r\n      }\r\n      else if (valueType == Types.Undefined) {\r\n          tagBinary = _toUndefined(rawValue, offset);\r\n      }\r\n      else if (valueType == Types.SLong) {\r\n          throw new Error(\"Not implemented for SLong value\");\r\n      }\r\n      else if (valueType == Types.SRational) {\r\n          tagBinary = _toSRational(rawValue, offset);\r\n      }\r\n      else {\r\n          throw new Error(\"Got unhandled exif value type.\");\r\n      }\r\n      return tagBinary;\r\n  };\r\n  const _toByte = (rawValue, offset) => {\r\n      if (typeof rawValue == \"number\") {\r\n          rawValue = [rawValue];\r\n      }\r\n      else if (Array.isArray(rawValue) && typeof rawValue[0] === \"number\") ;\r\n      else {\r\n          const t = Array.isArray(rawValue) ? \"Array\" : typeof rawValue;\r\n          throw new ValueConvertError(`Value must be \"number\" or \"Array<number>\".\\n` +\r\n              `Value: ${rawValue}\\n` +\r\n              `Type: ${t}`);\r\n      }\r\n      const length = rawValue.length;\r\n      const tagBinary = {\r\n          value: \"\",\r\n          lengthBinary: \"\",\r\n          fourBytesOver: \"\"\r\n      };\r\n      if (length <= 4) {\r\n          tagBinary.value = _packByte(rawValue) + _nLoopStr(\"\\x00\", 4 - length);\r\n      }\r\n      else {\r\n          tagBinary.value = pack(\">L\", [offset]);\r\n          tagBinary.fourBytesOver = _packByte(rawValue);\r\n      }\r\n      tagBinary.lengthBinary = pack(\">L\", [length]);\r\n      return tagBinary;\r\n  };\r\n  const _toAscii = (rawValue, offset) => {\r\n      if (typeof rawValue !== \"string\") {\r\n          const t = Array.isArray(rawValue) ? \"Array\" : typeof rawValue;\r\n          throw new ValueConvertError(`Value must be \"string\". Got \"${t}\".`);\r\n      }\r\n      const newValue = rawValue + \"\\x00\";\r\n      const length = newValue.length;\r\n      const tagBinary = {\r\n          value: \"\",\r\n          lengthBinary: \"\",\r\n          fourBytesOver: \"\"\r\n      };\r\n      if (length > 4) {\r\n          tagBinary.value = pack(\">L\", [offset]);\r\n          tagBinary.fourBytesOver = newValue;\r\n      }\r\n      else {\r\n          tagBinary.value = newValue + _nLoopStr(\"\\x00\", 4 - length);\r\n      }\r\n      tagBinary.lengthBinary = pack(\">L\", [length]);\r\n      return tagBinary;\r\n  };\r\n  const _toShort = (rawValue, offset) => {\r\n      if (typeof rawValue == \"number\") {\r\n          rawValue = [rawValue];\r\n      }\r\n      else if (Array.isArray(rawValue) && typeof rawValue[0] === \"number\") ;\r\n      else {\r\n          const t = Array.isArray(rawValue) ? \"Array\" : typeof rawValue;\r\n          throw new ValueConvertError(`Value must be \"number\" or \"Array<number>\".\\n` +\r\n              `Value: ${rawValue}\\n` +\r\n              `Type: ${t}`);\r\n      }\r\n      const length = rawValue.length;\r\n      const tagBinary = {\r\n          value: \"\",\r\n          lengthBinary: \"\",\r\n          fourBytesOver: \"\"\r\n      };\r\n      if (length <= 2) {\r\n          tagBinary.value = _packShort(rawValue) + _nLoopStr(\"\\x00\\x00\", 2 - length);\r\n      }\r\n      else {\r\n          tagBinary.value = pack(\">L\", [offset]);\r\n          tagBinary.fourBytesOver = _packShort(rawValue);\r\n      }\r\n      tagBinary.lengthBinary = pack(\">L\", [length]);\r\n      return tagBinary;\r\n  };\r\n  const _toLong = (rawValue, offset) => {\r\n      if (typeof rawValue == \"number\") {\r\n          rawValue = [rawValue];\r\n      }\r\n      else if (Array.isArray(rawValue) && typeof rawValue[0] === \"number\") ;\r\n      else {\r\n          const t = Array.isArray(rawValue) ? \"Array\" : typeof rawValue;\r\n          throw new ValueConvertError(`Value must be \"number\" or \"Array<number>\".\\n` +\r\n              `Value: ${rawValue}\\n` +\r\n              `Type: ${t}`);\r\n      }\r\n      const length = rawValue.length;\r\n      const tagBinary = {\r\n          value: \"\",\r\n          lengthBinary: \"\",\r\n          fourBytesOver: \"\"\r\n      };\r\n      if (length <= 1) {\r\n          tagBinary.value = _packLong(rawValue);\r\n      }\r\n      else {\r\n          tagBinary.value = pack(\">L\", [offset]);\r\n          tagBinary.fourBytesOver = _packLong(rawValue);\r\n      }\r\n      tagBinary.lengthBinary = pack(\">L\", [length]);\r\n      return tagBinary;\r\n  };\r\n  const _toRational = (rawValue, offset) => {\r\n      let value;\r\n      if (Array.isArray(rawValue) &&\r\n          typeof rawValue[0] === \"number\" &&\r\n          rawValue.length === 2) {\r\n          value = [rawValue];\r\n      }\r\n      else if (Array.isArray(rawValue) &&\r\n          Array.isArray(rawValue[0]) &&\r\n          typeof rawValue[0][0] === \"number\") {\r\n          value = rawValue;\r\n      }\r\n      else {\r\n          let t = Array.isArray(rawValue) ? \"Array\" : typeof rawValue;\r\n          t = t == \"Array\" ? `Array<${typeof rawValue[0]}>` : t;\r\n          throw new ValueConvertError(`Value must be \"Array<number>\" or \"Array<Array<number>>\". Got \"${t}\".`);\r\n      }\r\n      const tagBinary = {\r\n          value: \"\",\r\n          lengthBinary: \"\",\r\n          fourBytesOver: \"\"\r\n      };\r\n      const length = value.length;\r\n      let newValue = \"\";\r\n      for (let n = 0; n < length; n++) {\r\n          const num = value[n][0];\r\n          const den = value[n][1];\r\n          newValue += pack(\">L\", [num]) + pack(\">L\", [den]);\r\n      }\r\n      tagBinary.lengthBinary = pack(\">L\", [length]);\r\n      tagBinary.value = pack(\">L\", [offset]);\r\n      tagBinary.fourBytesOver = newValue;\r\n      return tagBinary;\r\n  };\r\n  const _toUndefined = (rawValue, offset) => {\r\n      if (typeof rawValue !== \"string\") {\r\n          const t = Array.isArray(rawValue) ? \"Array\" : typeof rawValue;\r\n          throw new ValueConvertError(`Value must be \"string\". Got \"${t}\".`);\r\n      }\r\n      const length = rawValue.length;\r\n      const tagBinary = {\r\n          value: \"\",\r\n          lengthBinary: \"\",\r\n          fourBytesOver: \"\"\r\n      };\r\n      if (length > 4) {\r\n          tagBinary.value = pack(\">L\", [offset]);\r\n          tagBinary.fourBytesOver = rawValue;\r\n      }\r\n      else {\r\n          tagBinary.value = rawValue + _nLoopStr(\"\\x00\", 4 - length);\r\n      }\r\n      tagBinary.lengthBinary = pack(\">L\", [length]);\r\n      return tagBinary;\r\n  };\r\n  const _toSRational = (rawValue, offset) => {\r\n      let value;\r\n      if (Array.isArray(rawValue) &&\r\n          typeof rawValue[0] === \"number\" &&\r\n          rawValue.length === 2) {\r\n          value = [rawValue];\r\n      }\r\n      else if (Array.isArray(rawValue) &&\r\n          Array.isArray(rawValue[0]) &&\r\n          typeof rawValue[0][0] === \"number\") ;\r\n      else {\r\n          let t = Array.isArray(rawValue) ? \"Array\" : typeof rawValue;\r\n          t = t == \"Array\" ? `Array<${typeof rawValue[0]}>` : t;\r\n          throw new ValueConvertError(`Value must be \"Array<number>\" or \"Array<Array<number>>\". Got \"${t}\".`);\r\n      }\r\n      const tagBinary = {\r\n          value: \"\",\r\n          lengthBinary: \"\",\r\n          fourBytesOver: \"\"\r\n      };\r\n      const length = value.length;\r\n      let newValue = \"\";\r\n      for (let n = 0; n < length; n++) {\r\n          const num = value[n][0];\r\n          const den = value[n][1];\r\n          newValue += pack(\">l\", [num]) + pack(\">l\", [den]);\r\n      }\r\n      tagBinary.lengthBinary = pack(\">L\", [length]);\r\n      tagBinary.value = pack(\">L\", [offset]);\r\n      tagBinary.fourBytesOver = newValue;\r\n      return tagBinary;\r\n  };\r\n  const dictToBytes = (ifdObj, ifdName, ifdOffsetCount) => {\r\n      const TIFF_HEADER_LENGTH = 8;\r\n      const tagCount = Object.keys(ifdObj).length;\r\n      const entryHeader = pack(\">H\", [tagCount]);\r\n      let entriesLength;\r\n      if ([\"0th\", \"1st\"].indexOf(ifdName) > -1) {\r\n          entriesLength = 2 + tagCount * 12 + 4;\r\n      }\r\n      else {\r\n          entriesLength = 2 + tagCount * 12;\r\n      }\r\n      let entries = \"\";\r\n      let values = \"\";\r\n      let key;\r\n      for (key in ifdObj) {\r\n          if (typeof key == \"string\") {\r\n              key = parseInt(key);\r\n          }\r\n          if (ifdName == \"0th\" && [34665, 34853].indexOf(key) > -1) {\r\n              continue;\r\n          }\r\n          else if (ifdName == \"Exif\" && key == 40965) {\r\n              continue;\r\n          }\r\n          else if (ifdName == \"1st\" && [513, 514].indexOf(key) > -1) {\r\n              continue;\r\n          }\r\n          const rawValue = ifdObj[key];\r\n          const keyBinary = pack(\">H\", [key]);\r\n          const valueType = Tags[ifdName][key][\"type\"];\r\n          const typeBinary = pack(\">H\", [valueType]);\r\n          const offset = TIFF_HEADER_LENGTH + entriesLength + ifdOffsetCount + values.length;\r\n          let b;\r\n          try {\r\n              b = _valueToBytes(rawValue, valueType, offset);\r\n          }\r\n          catch (e) {\r\n              if (e instanceof ValueConvertError) {\r\n                  const _ifdName = [\"0th\", \"1st\"].includes(ifdName) ? \"Image\" : ifdName;\r\n                  const tagName = Tags[_ifdName][key][\"name\"];\r\n                  const errorMessage = `Can't convert ${tagName} in ${ifdName} IFD.\\r`;\r\n                  e.message = errorMessage + e.message;\r\n              }\r\n              throw e;\r\n          }\r\n          entries += keyBinary + typeBinary + b.lengthBinary + b.value;\r\n          values += b.fourBytesOver;\r\n      }\r\n      return [entryHeader + entries, values];\r\n  };\r\n  class ExifReader {\r\n      constructor(exifBinary) {\r\n          this.getIfd = (pointer, ifdName) => {\r\n              const tagCount = unpack(this.endianMark + \"H\", this.tiftag.slice(pointer, pointer + 2))[0];\r\n              if (tagCount == 0) {\r\n                  return null;\r\n              }\r\n              const ifdObj = {};\r\n              const offset = pointer + 2;\r\n              let t;\r\n              if ([\"0th\", \"1st\"].indexOf(ifdName) > -1) {\r\n                  t = \"Image\";\r\n              }\r\n              else {\r\n                  t = ifdName;\r\n              }\r\n              for (let x = 0; x < tagCount; x++) {\r\n                  pointer = offset + 12 * x;\r\n                  const tag = unpack(this.endianMark + \"H\", this.tiftag.slice(pointer, pointer + 2))[0];\r\n                  const type = unpack(this.endianMark + \"H\", this.tiftag.slice(pointer + 2, pointer + 4))[0];\r\n                  const length = unpack(this.endianMark + \"L\", this.tiftag.slice(pointer + 4, pointer + 8))[0];\r\n                  const value = this.tiftag.slice(pointer + 8, pointer + 12);\r\n                  const valueSet = {\r\n                      type,\r\n                      length,\r\n                      value\r\n                  };\r\n                  if (tag in Tags[t]) {\r\n                      ifdObj[tag] = this.convertValue(valueSet);\r\n                  }\r\n              }\r\n              return ifdObj;\r\n          };\r\n          this.getFirstIfdPointer = (pointer, ifdName) => {\r\n              const tagCount = unpack(this.endianMark + \"H\", this.tiftag.slice(pointer, pointer + 2))[0];\r\n              if (tagCount == 0) {\r\n                  return null;\r\n              }\r\n              const offset = pointer + 2;\r\n              let firstIfdPointer;\r\n              if (ifdName == \"0th\") {\r\n                  pointer = offset + 12 * tagCount;\r\n                  firstIfdPointer = this.tiftag.slice(pointer, pointer + 4);\r\n              }\r\n              return firstIfdPointer;\r\n          };\r\n          this.convertValue = (val) => {\r\n              let data = null;\r\n              const t = val.type;\r\n              const length = val.length;\r\n              const value = val.value;\r\n              let pointer;\r\n              if (t == 1) {\r\n                  // BYTE\r\n                  if (length > 4) {\r\n                      pointer = unpack(this.endianMark + \"L\", value)[0];\r\n                      data = unpack(this.endianMark + _nLoopStr(\"B\", length), this.tiftag.slice(pointer, pointer + length));\r\n                  }\r\n                  else {\r\n                      data = unpack(this.endianMark + _nLoopStr(\"B\", length), value.slice(0, length));\r\n                  }\r\n              }\r\n              else if (t == 2) {\r\n                  // ASCII\r\n                  if (length > 4) {\r\n                      pointer = unpack(this.endianMark + \"L\", value)[0];\r\n                      data = this.tiftag.slice(pointer, pointer + length - 1);\r\n                  }\r\n                  else {\r\n                      data = value.slice(0, length - 1);\r\n                  }\r\n              }\r\n              else if (t == 3) {\r\n                  // SHORT\r\n                  if (length > 2) {\r\n                      pointer = unpack(this.endianMark + \"L\", value)[0];\r\n                      data = unpack(this.endianMark + _nLoopStr(\"H\", length), this.tiftag.slice(pointer, pointer + length * 2));\r\n                  }\r\n                  else {\r\n                      data = unpack(this.endianMark + _nLoopStr(\"H\", length), value.slice(0, length * 2));\r\n                  }\r\n              }\r\n              else if (t == 4) {\r\n                  // LONG\r\n                  if (length > 1) {\r\n                      pointer = unpack(this.endianMark + \"L\", value)[0];\r\n                      data = unpack(this.endianMark + _nLoopStr(\"L\", length), this.tiftag.slice(pointer, pointer + length * 4));\r\n                  }\r\n                  else {\r\n                      data = unpack(this.endianMark + _nLoopStr(\"L\", length), value);\r\n                  }\r\n              }\r\n              else if (t == 5) {\r\n                  // RATIONAL\r\n                  pointer = unpack(this.endianMark + \"L\", value)[0];\r\n                  if (length > 1) {\r\n                      data = [];\r\n                      for (let x = 0; x < length; x++) {\r\n                          data.push([\r\n                              unpack(this.endianMark + \"L\", this.tiftag.slice(pointer + x * 8, pointer + 4 + x * 8))[0],\r\n                              unpack(this.endianMark + \"L\", this.tiftag.slice(pointer + 4 + x * 8, pointer + 8 + x * 8))[0]\r\n                          ]);\r\n                      }\r\n                  }\r\n                  else {\r\n                      data = [\r\n                          unpack(this.endianMark + \"L\", this.tiftag.slice(pointer, pointer + 4))[0],\r\n                          unpack(this.endianMark + \"L\", this.tiftag.slice(pointer + 4, pointer + 8))[0]\r\n                      ];\r\n                  }\r\n              }\r\n              else if (t == 7) {\r\n                  // UNDEFINED BYTES\r\n                  if (length > 4) {\r\n                      pointer = unpack(this.endianMark + \"L\", value)[0];\r\n                      data = this.tiftag.slice(pointer, pointer + length);\r\n                  }\r\n                  else {\r\n                      data = value.slice(0, length);\r\n                  }\r\n              }\r\n              else if (t == 10) {\r\n                  // SRATIONAL\r\n                  pointer = unpack(this.endianMark + \"L\", value)[0];\r\n                  if (length > 1) {\r\n                      data = [];\r\n                      for (let x = 0; x < length; x++) {\r\n                          data.push([\r\n                              unpack(this.endianMark + \"l\", this.tiftag.slice(pointer + x * 8, pointer + 4 + x * 8))[0],\r\n                              unpack(this.endianMark + \"l\", this.tiftag.slice(pointer + 4 + x * 8, pointer + 8 + x * 8))[0]\r\n                          ]);\r\n                      }\r\n                  }\r\n                  else {\r\n                      data = [\r\n                          unpack(this.endianMark + \"l\", this.tiftag.slice(pointer, pointer + 4))[0],\r\n                          unpack(this.endianMark + \"l\", this.tiftag.slice(pointer + 4, pointer + 8))[0]\r\n                      ];\r\n                  }\r\n              }\r\n              else {\r\n                  throw new Error(\"Exif might be wrong. Got incorrect value \" +\r\n                      \"type to decode. type:\" +\r\n                      t);\r\n              }\r\n              if (data instanceof Array && data.length == 1) {\r\n                  return data[0];\r\n              }\r\n              else {\r\n                  return data;\r\n              }\r\n          };\r\n          let segments, app1;\r\n          if (exifBinary.slice(0, 2) == \"\\xff\\xd8\") {\r\n              // JPEG\r\n              segments = splitIntoSegments(exifBinary);\r\n              app1 = getExifSeg(segments);\r\n              if (app1) {\r\n                  this.tiftag = app1.slice(10);\r\n              }\r\n              else {\r\n                  this.tiftag = null;\r\n              }\r\n          }\r\n          else if ([\"\\x49\\x49\", \"\\x4d\\x4d\"].indexOf(exifBinary.slice(0, 2)) > -1) {\r\n              // TIFF\r\n              this.tiftag = exifBinary;\r\n          }\r\n          else if (exifBinary.slice(0, 4) == \"Exif\") {\r\n              // Exif\r\n              this.tiftag = exifBinary.slice(6);\r\n          }\r\n          else {\r\n              throw new Error(\"Given file is neither JPEG nor TIFF.\");\r\n          }\r\n      }\r\n  }\r\n  const splitIntoSegments = (data) => {\r\n      if (data.slice(0, 2) != \"\\xff\\xd8\") {\r\n          throw new Error(\"Given data isn't JPEG.\");\r\n      }\r\n      let head = 2;\r\n      const segments = [\"\\xff\\xd8\"];\r\n      while (true) {\r\n          if (data.slice(head, head + 2) == \"\\xff\\xda\") {\r\n              segments.push(data.slice(head));\r\n              break;\r\n          }\r\n          else {\r\n              const length = unpack(\">H\", data.slice(head + 2, head + 4))[0];\r\n              const endPoint = head + length + 2;\r\n              segments.push(data.slice(head, endPoint));\r\n              head = endPoint;\r\n          }\r\n          if (head >= data.length) {\r\n              throw new Error(\"Wrong JPEG data.\");\r\n          }\r\n      }\r\n      return segments;\r\n  };\r\n  const getExifSeg = (segments) => {\r\n      let seg;\r\n      for (let i = 0; i < segments.length; i++) {\r\n          seg = segments[i];\r\n          if (seg.slice(0, 2) == \"\\xff\\xe1\" && seg.slice(4, 10) == \"Exif\\x00\\x00\") {\r\n              return seg;\r\n          }\r\n      }\r\n      return null;\r\n  };\r\n  const mergeSegments = (segments, exif) => {\r\n      let hasExifSegment = false;\r\n      const additionalAPP1ExifSegments = [];\r\n      segments.forEach(function (segment, i) {\r\n          // Replace first occurence of APP1:Exif segment\r\n          if (segment.slice(0, 2) == \"\\xff\\xe1\" &&\r\n              segment.slice(4, 10) == \"Exif\\x00\\x00\") {\r\n              if (!hasExifSegment) {\r\n                  segments[i] = exif;\r\n                  hasExifSegment = true;\r\n              }\r\n              else {\r\n                  additionalAPP1ExifSegments.unshift(i);\r\n              }\r\n          }\r\n      });\r\n      // Remove additional occurences of APP1:Exif segment\r\n      additionalAPP1ExifSegments.forEach(function (segmentIndex) {\r\n          segments.splice(segmentIndex, 1);\r\n      });\r\n      if (!hasExifSegment && exif) {\r\n          segments = [segments[0], exif].concat(segments.slice(1));\r\n      }\r\n      return segments.join(\"\");\r\n  };\n\n  const GPSHelper = {\r\n      degToDmsRational: (degFloat) => {\r\n          const degAbs = Math.abs(degFloat);\r\n          const minFloat = (degAbs % 1) * 60;\r\n          const secFloat = (minFloat % 1) * 60;\r\n          const deg = Math.floor(degAbs);\r\n          const min = Math.floor(minFloat);\r\n          const sec = Math.round(secFloat * 100);\r\n          return [[deg, 1], [min, 1], [sec, 100]];\r\n      },\r\n      dmsRationalToDeg: (dmsArray, ref) => {\r\n          if (ref !== \"S\" && ref !== \"W\" && ref !== \"N\" && ref !== \"E\") {\r\n              throw new Error('\"dmsRationalToDeg\", 2nd argument must be \"N\", \"S\", \"E\" or \"W\"');\r\n          }\r\n          const sign = ref === \"S\" || ref === \"W\" ? -1.0 : 1.0;\r\n          const deg = dmsArray[0][0] / dmsArray[0][1] +\r\n              dmsArray[1][0] / (dmsArray[1][1] * 60.0) +\r\n              dmsArray[2][0] / (dmsArray[2][1] * 3600.0);\r\n          return sign * deg;\r\n      }\r\n  };\n\n  const version = \"2.0.0b\";\r\n  const remove = (imageBinary) => {\r\n      let bbase64Encoded = false;\r\n      if (imageBinary.slice(0, 2) == \"\\xff\\xd8\") ;\r\n      else if (imageBinary.slice(0, 23) == \"data:image/jpeg;base64,\" ||\r\n          imageBinary.slice(0, 22) == \"data:image/jpg;base64,\") {\r\n          imageBinary = atob(imageBinary.split(\",\")[1]);\r\n          bbase64Encoded = true;\r\n      }\r\n      else {\r\n          throw new Error(\"Given data is not jpeg.\");\r\n      }\r\n      const segments = splitIntoSegments(imageBinary);\r\n      const newSegments = segments.filter(function (segment) {\r\n          return !(segment.slice(0, 2) == \"\\xff\\xe1\" &&\r\n              segment.slice(4, 10) == \"Exif\\x00\\x00\");\r\n      });\r\n      let newBinary = newSegments.join(\"\");\r\n      if (bbase64Encoded) {\r\n          newBinary = \"data:image/jpeg;base64,\" + btoa(newBinary);\r\n      }\r\n      return newBinary;\r\n  };\r\n  const insert = (exifBinary, imageBinary) => {\r\n      let base64Encoded = false;\r\n      if (exifBinary.slice(0, 6) != \"\\x45\\x78\\x69\\x66\\x00\\x00\") {\r\n          throw new Error(\"Given data is not exif.\");\r\n      }\r\n      if (imageBinary.slice(0, 2) == \"\\xff\\xd8\") ;\r\n      else if (imageBinary.slice(0, 23) == \"data:image/jpeg;base64,\" ||\r\n          imageBinary.slice(0, 22) == \"data:image/jpg;base64,\") {\r\n          imageBinary = atob(imageBinary.split(\",\")[1]);\r\n          base64Encoded = true;\r\n      }\r\n      else {\r\n          throw new Error(\"Given data is not jpeg.\");\r\n      }\r\n      const app1Segment = \"\\xff\\xe1\" + pack(\">H\", [exifBinary.length + 2]) + exifBinary;\r\n      const segments = splitIntoSegments(imageBinary);\r\n      let newBinary = mergeSegments(segments, app1Segment);\r\n      if (base64Encoded) {\r\n          newBinary = \"data:image/jpeg;base64,\" + btoa(newBinary);\r\n      }\r\n      return newBinary;\r\n  };\r\n  const load = (binary) => {\r\n      let exifBinary;\r\n      if (typeof binary == \"string\") {\r\n          if (binary.slice(0, 2) == \"\\xff\\xd8\") {\r\n              exifBinary = binary;\r\n          }\r\n          else if (binary.slice(0, 23) == \"data:image/jpeg;base64,\" ||\r\n              binary.slice(0, 22) == \"data:image/jpg;base64,\") {\r\n              exifBinary = atob(binary.split(\",\")[1]);\r\n          }\r\n          else if (binary.slice(0, 4) == \"Exif\") {\r\n              exifBinary = binary.slice(6);\r\n          }\r\n          else {\r\n              throw new Error(\"'load' gots invalid file data.\");\r\n          }\r\n      }\r\n      else {\r\n          throw new Error(\"'load' gots invalid type argument.\");\r\n      }\r\n      const exifObj = {};\r\n      const exifReader = new ExifReader(exifBinary);\r\n      if (exifReader.tiftag === null) {\r\n          return exifObj;\r\n      }\r\n      if (exifReader.tiftag.slice(0, 2) == \"\\x49\\x49\") {\r\n          exifReader.endianMark = \"<\";\r\n      }\r\n      else {\r\n          exifReader.endianMark = \">\";\r\n      }\r\n      let zerothIfd = null;\r\n      let firstIfd = null;\r\n      let exifIfd = null;\r\n      let interopIfd = null;\r\n      let gpsIfd = null;\r\n      let thumbnail = null;\r\n      const pointer = unpack(exifReader.endianMark + \"L\", exifReader.tiftag.slice(4, 8))[0];\r\n      zerothIfd = exifReader.getIfd(pointer, \"0th\");\r\n      const firstIfdPointer = exifReader.getFirstIfdPointer(pointer, \"0th\");\r\n      if (zerothIfd !== null && 34665 in zerothIfd) {\r\n          const pointer = zerothIfd[34665];\r\n          exifIfd = exifReader.getIfd(pointer, \"Exif\");\r\n      }\r\n      if (zerothIfd !== null && 34853 in zerothIfd) {\r\n          const pointer = zerothIfd[34853];\r\n          gpsIfd = exifReader.getIfd(pointer, \"GPS\");\r\n      }\r\n      if (exifIfd !== null && 40965 in exifIfd) {\r\n          const pointer = exifIfd[40965];\r\n          interopIfd = exifReader.getIfd(pointer, \"Interop\");\r\n      }\r\n      if (firstIfdPointer != \"\\x00\\x00\\x00\\x00\") {\r\n          const pointer = unpack(exifReader.endianMark + \"L\", firstIfdPointer)[0];\r\n          firstIfd = exifReader.getIfd(pointer, \"1st\");\r\n          if (firstIfd !== null && 513 in firstIfd && 514 in firstIfd) {\r\n              const end = firstIfd[513] + firstIfd[514];\r\n              thumbnail = exifReader.tiftag.slice(firstIfd[513], end);\r\n          }\r\n      }\r\n      if (zerothIfd !== null) {\r\n          exifObj[\"0th\"] = zerothIfd;\r\n      }\r\n      if (firstIfd !== null) {\r\n          exifObj[\"1st\"] = firstIfd;\r\n      }\r\n      if (exifIfd !== null) {\r\n          exifObj[\"Exif\"] = exifIfd;\r\n      }\r\n      if (gpsIfd !== null) {\r\n          exifObj[\"GPS\"] = gpsIfd;\r\n      }\r\n      if (interopIfd !== null) {\r\n          exifObj[\"Interop\"] = interopIfd;\r\n      }\r\n      if (thumbnail !== null) {\r\n          exifObj[\"thumbnail\"] = thumbnail;\r\n      }\r\n      return exifObj;\r\n  };\r\n  const dump = (originalExifObj) => {\r\n      const TIFF_HEADER_LENGTH = 8;\r\n      const exifObj = copy(originalExifObj);\r\n      const header = \"Exif\\x00\\x00\\x4d\\x4d\\x00\\x2a\\x00\\x00\\x00\\x08\";\r\n      let existExifIfd = false;\r\n      let existGpsIfd = false;\r\n      let existInteropIfd = false;\r\n      let existFirstIfd = false;\r\n      let zerothIfd, exifIfd, interopIfd, gpsIfd, firstIfd;\r\n      if (\"0th\" in exifObj) {\r\n          zerothIfd = exifObj[\"0th\"];\r\n      }\r\n      else {\r\n          zerothIfd = {};\r\n      }\r\n      if ((\"Exif\" in exifObj && Object.keys(exifObj[\"Exif\"]).length) ||\r\n          (\"Interop\" in exifObj && Object.keys(exifObj[\"Interop\"]).length)) {\r\n          zerothIfd[34665] = 1;\r\n          existExifIfd = true;\r\n          exifIfd = exifObj[\"Exif\"];\r\n          if (\"Interop\" in exifObj && Object.keys(exifObj[\"Interop\"]).length) {\r\n              exifIfd[40965] = 1;\r\n              existInteropIfd = true;\r\n              interopIfd = exifObj[\"Interop\"];\r\n          }\r\n          else if (Object.keys(exifIfd).indexOf(TagValues.ExifIFD.InteroperabilityTag.toString()) > -1) {\r\n              delete exifIfd[40965];\r\n          }\r\n      }\r\n      else if (Object.keys(zerothIfd).indexOf(TagValues.ImageIFD.ExifTag.toString()) > -1) {\r\n          delete zerothIfd[34665];\r\n      }\r\n      if (\"GPS\" in exifObj && Object.keys(exifObj[\"GPS\"]).length) {\r\n          zerothIfd[TagValues.ImageIFD.GPSTag] = 1;\r\n          existGpsIfd = true;\r\n          gpsIfd = exifObj[\"GPS\"];\r\n      }\r\n      else if (Object.keys(zerothIfd).indexOf(TagValues.ImageIFD.GPSTag.toString()) > -1) {\r\n          delete zerothIfd[TagValues.ImageIFD.GPSTag];\r\n      }\r\n      if (\"1st\" in exifObj &&\r\n          \"thumbnail\" in exifObj &&\r\n          exifObj[\"thumbnail\"] != null) {\r\n          existFirstIfd = true;\r\n          exifObj[\"1st\"][513] = 1;\r\n          exifObj[\"1st\"][514] = 1;\r\n          firstIfd = exifObj[\"1st\"];\r\n      }\r\n      const zerothIfdSet = dictToBytes(zerothIfd, \"0th\", 0);\r\n      const zerothIfdLength = zerothIfdSet[0].length +\r\n          Number(existExifIfd) * 12 +\r\n          Number(existGpsIfd) * 12 +\r\n          4 +\r\n          zerothIfdSet[1].length;\r\n      let exifIfdSet, exifIfdBytes = \"\", exifIfdLength = 0, gpsIfdSet, gpsIfdBytes = \"\", gpsIfdLength = 0, interopIfdSet, interopIfdBytes = \"\", interopIfdLength = 0, firstIfdSet, firstIfdBytes = \"\", thumbnail;\r\n      if (existExifIfd) {\r\n          exifIfdSet = dictToBytes(exifIfd, \"Exif\", zerothIfdLength);\r\n          exifIfdLength =\r\n              exifIfdSet[0].length +\r\n                  Number(existInteropIfd) * 12 +\r\n                  exifIfdSet[1].length;\r\n      }\r\n      if (existGpsIfd) {\r\n          gpsIfdSet = dictToBytes(gpsIfd, \"GPS\", zerothIfdLength + exifIfdLength);\r\n          gpsIfdBytes = gpsIfdSet.join(\"\");\r\n          gpsIfdLength = gpsIfdBytes.length;\r\n      }\r\n      if (existInteropIfd) {\r\n          const offset = zerothIfdLength + exifIfdLength + gpsIfdLength;\r\n          interopIfdSet = dictToBytes(interopIfd, \"Interop\", offset);\r\n          interopIfdBytes = interopIfdSet.join(\"\");\r\n          interopIfdLength = interopIfdBytes.length;\r\n      }\r\n      if (existFirstIfd) {\r\n          const offset = zerothIfdLength + exifIfdLength + gpsIfdLength + interopIfdLength;\r\n          firstIfdSet = dictToBytes(firstIfd, \"1st\", offset);\r\n          thumbnail = getThumbnail(exifObj[\"thumbnail\"]);\r\n          if (thumbnail.length > 64000) {\r\n              throw new Error(\"Given thumbnail is too large. max 64kB\");\r\n          }\r\n      }\r\n      let exifPointer = \"\", gpsPointer = \"\", interopPointer = \"\", firstIfdPointer = \"\\x00\\x00\\x00\\x00\";\r\n      if (existExifIfd) {\r\n          const pointerValue = TIFF_HEADER_LENGTH + zerothIfdLength;\r\n          const pointerBinary = pack(\">L\", [pointerValue]);\r\n          const key = 34665;\r\n          const keyBinary = pack(\">H\", [key]);\r\n          const typeBinary = pack(\">H\", [Types[\"Long\"]]);\r\n          const lengthBinary = pack(\">L\", [1]);\r\n          exifPointer = keyBinary + typeBinary + lengthBinary + pointerBinary;\r\n      }\r\n      if (existGpsIfd) {\r\n          const pointerValue = TIFF_HEADER_LENGTH + zerothIfdLength + exifIfdLength;\r\n          const pointerBinary = pack(\">L\", [pointerValue]);\r\n          const key = 34853;\r\n          const keyBinary = pack(\">H\", [key]);\r\n          const typeBinary = pack(\">H\", [Types[\"Long\"]]);\r\n          const lengthBinary = pack(\">L\", [1]);\r\n          gpsPointer = keyBinary + typeBinary + lengthBinary + pointerBinary;\r\n      }\r\n      if (existInteropIfd) {\r\n          const pointerValue = TIFF_HEADER_LENGTH + zerothIfdLength + exifIfdLength + gpsIfdLength;\r\n          const pointerBinary = pack(\">L\", [pointerValue]);\r\n          const key = 40965;\r\n          const keyBinary = pack(\">H\", [key]);\r\n          const typeBinary = pack(\">H\", [Types[\"Long\"]]);\r\n          const lengthBinary = pack(\">L\", [1]);\r\n          interopPointer = keyBinary + typeBinary + lengthBinary + pointerBinary;\r\n      }\r\n      if (existFirstIfd) {\r\n          const pointerValue = TIFF_HEADER_LENGTH +\r\n              zerothIfdLength +\r\n              exifIfdLength +\r\n              gpsIfdLength +\r\n              interopIfdLength;\r\n          firstIfdPointer = pack(\">L\", [pointerValue]);\r\n          const thumbnailPointer = pointerValue + firstIfdSet[0].length + 24 + 4 + firstIfdSet[1].length;\r\n          const thumbnailPointerBinary = \"\\x02\\x01\\x00\\x04\\x00\\x00\\x00\\x01\" +\r\n              pack(\">L\", [thumbnailPointer]);\r\n          const thumbnailLengthBinary = \"\\x02\\x02\\x00\\x04\\x00\\x00\\x00\\x01\" +\r\n              pack(\">L\", [thumbnail.length]);\r\n          firstIfdBytes =\r\n              firstIfdSet[0] +\r\n                  thumbnailPointerBinary +\r\n                  thumbnailLengthBinary +\r\n                  \"\\x00\\x00\\x00\\x00\" +\r\n                  firstIfdSet[1] +\r\n                  thumbnail;\r\n      }\r\n      const zerothIfdBinary = zerothIfdSet[0] +\r\n          exifPointer +\r\n          gpsPointer +\r\n          firstIfdPointer +\r\n          zerothIfdSet[1];\r\n      if (existExifIfd) {\r\n          exifIfdBytes = exifIfdSet[0] + interopPointer + exifIfdSet[1];\r\n      }\r\n      return (header +\r\n          zerothIfdBinary +\r\n          exifIfdBytes +\r\n          gpsIfdBytes +\r\n          interopIfdBytes +\r\n          firstIfdBytes);\r\n  };\n\n  exports.version = version;\n  exports.remove = remove;\n  exports.insert = insert;\n  exports.load = load;\n  exports.dump = dump;\n  exports.Types = Types;\n  exports.TagValues = TagValues;\n  exports.GPSHelper = GPSHelper;\n  exports.ValueConvertError = ValueConvertError;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=piexif.js.map\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar anObject = require('../internals/an-object');\nvar toPropertyKey = require('../internals/to-property-key');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar ENUMERABLE = 'enumerable';\nvar CONFIGURABLE = 'configurable';\nvar WRITABLE = 'writable';\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {\n    var current = $getOwnPropertyDescriptor(O, P);\n    if (current && current[WRITABLE]) {\n      O[P] = Attributes.value;\n      Attributes = {\n        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],\n        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],\n        writable: false\n      };\n    }\n  } return $defineProperty(O, P, Attributes);\n} : $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw new $TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n__webpack_require__.x = function() {\n\t// Load entry module and return exports\n\t// This entry module depends on other loaded chunks and execution need to be delayed\n\tvar __webpack_exports__ = __webpack_require__.O(undefined, [619], function() { return __webpack_require__(26081); })\n\t__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n\treturn __webpack_exports__;\n};\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"assets/js/\" + chunkId + \".\" + \"62305b2c\" + \".js\";\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded chunks\n// \"1\" means \"already loaded\"\nvar installedChunks = {\n\t91: 1\n};\n\n// importScripts chunk loading\nvar installChunk = function(data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\twhile(chunkIds.length)\n\t\tinstalledChunks[chunkIds.pop()] = 1;\n\tparentChunkLoadingFunction(data);\n};\n__webpack_require__.f.i = function(chunkId, promises) {\n\t// \"1\" is the signal for \"already loaded\"\n\tif(!installedChunks[chunkId]) {\n\t\tif(true) { // all chunks have JS\n\t\t\timportScripts(__webpack_require__.p + __webpack_require__.u(chunkId));\n\t\t}\n\t}\n};\n\nvar chunkLoadingGlobal = self[\"webpackChunkKonomiTV\"] = self[\"webpackChunkKonomiTV\"] || [];\nvar parentChunkLoadingFunction = chunkLoadingGlobal.push.bind(chunkLoadingGlobal);\nchunkLoadingGlobal.push = installChunk;\n\n// no HMR\n\n// no HMR manifest","var next = __webpack_require__.x;\n__webpack_require__.x = function() {\n\treturn __webpack_require__.e(619).then(next);\n};","// run startup\nvar __webpack_exports__ = __webpack_require__.x();\n"],"names":["base64","ieee754","customInspectSymbol","Symbol","exports","Buffer","INSPECT_MAX_BYTES","K_MAX_LENGTH","typedArraySupport","arr","Uint8Array","proto","foo","Object","setPrototypeOf","prototype","e","createBuffer","length","RangeError","buf","arg","encodingOrOffset","TypeError","allocUnsafe","from","value","fromString","ArrayBuffer","isView","fromArrayView","isInstance","buffer","fromArrayBuffer","SharedArrayBuffer","valueOf","b","fromObject","toPrimitive","assertSize","size","alloc","fill","encoding","undefined","checked","string","isEncoding","byteLength","actual","write","slice","fromArrayLike","array","i","arrayView","copy","byteOffset","obj","isBuffer","len","numberIsNaN","type","Array","isArray","data","toString","SlowBuffer","mustMatch","arguments","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","start","end","this","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","n","m","bidirectionalIndexOf","val","dir","arrayIndexOf","indexOf","call","lastIndexOf","indexSize","arrLength","valLength","String","read","readUInt16BE","foundIndex","found","j","hexWrite","offset","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","asciiToBytes","base64Write","ucs2Write","utf16leToBytes","fromByteArray","Math","min","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","push","decodeCodePointsArray","TYPED_ARRAY_SUPPORT","console","error","defineProperty","enumerable","get","poolSize","allocUnsafeSlow","_isBuffer","compare","a","x","y","concat","list","pos","set","swap16","swap32","swap64","apply","toLocaleString","equals","inspect","str","max","replace","trim","target","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","Error","toJSON","_arr","MAX_ARGUMENTS_LENGTH","codePoints","fromCharCode","ret","out","hexSliceLookupTable","bytes","checkOffset","ext","checkInt","wrtBigUInt64LE","checkIntBI","lo","BigInt","hi","wrtBigUInt64BE","checkIEEE754","writeFloat","littleEndian","noAssert","writeDouble","newBuf","subarray","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readBigUInt64LE","defineBigIntMethod","validateNumber","first","last","boundsError","readBigUInt64BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readBigInt64LE","readBigInt64BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","maxBytes","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeBigUInt64LE","writeBigUInt64BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeBigInt64LE","writeBigInt64BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","code","charCodeAt","errors","E","sym","getMessage","Base","constructor","super","writable","configurable","name","stack","message","addNumericalSeparator","checkBounds","range","ERR_OUT_OF_RANGE","ERR_INVALID_ARG_TYPE","floor","ERR_BUFFER_OUT_OF_BOUNDS","input","msg","received","isInteger","abs","INVALID_BASE64_RE","base64clean","split","units","Infinity","leadSurrogate","byteArray","c","toByteArray","src","dst","alphabet","table","i16","fn","BufferBigIntNotDefined","ProgramUtils","decorateProgramInfo","program","key","text","Utils","escapeHTML","mark","pattern1","RegExp","pattern2","now","dayjs","pause_time_start","hour","minute","second","pause_time_end","pause_time_start_23","pause_time_end_23","isSameOrAfter","isSameOrBefore","getProgramProgress","progress","diff","start_time","duration","getProgramTime","is_short","end_time","format","round","formatString","format_string_translation_map","replaceAll","buildFormatStringTranslationMap","zenkaku_table","hankaku_table","merged_table","symbol_zenkaku_table","symbol_hankaku_table","enclosed_characters_table","getISO639LanguageCodeName","iso639_language_code","_defineProperty","dayjsOriginal","isBetween","utc","timezone","ja","setDefault","date","tz","CaptureCompositor","options","loadFonts","is_loaded_fonts","font_faces","FontFace","weight","Promise","all","map","font_face","load","self","fonts","add","composite","log","time","capture_caption_promise","capture_normal_promise","mode","caption","compositeInCaptionMode","superimpose","capture_comment_data","compositeInNormalDirectMode","compositeInNormalMode","capture_caption","capture_normal","mathFloor","assert","normal_direct_canvas","OffscreenCanvas","capture","width","height","normal_direct_canvas_context","getContext","alpha","transferFromImageBitmap","close","exportToBlob","is_caption_composited","is_comment_composited","normal_canvas","normal_canvas_context","desynchronized","willReadFrequently","drawImage","compositeComments","caption_canvas","caption_canvas_context","canvas","context","comment_canvas","comment_canvas_context","magnification_ratio","container_width","textBaseline","comment","comments","fillStyle","color","font","font_size","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","fillText","left","top","globalAlpha","opacity","setEXIFDataToCapture","blob","datetime","capture_exif_data","captured_at","exif","piexif","ImageIFD","XResolution","YResolution","ResolutionUnit","YCbCrPositioning","DateTime","Software","version","XPComment","JSON","stringify","ExifIFD","ExifVersion","ComponentsConfiguration","FlashpixVersion","ColorSpace","DateTimeOriginal","DateTimeDigitized","exif_string","blob_string","resolve","reject","reader","FileReader","onload","result","onerror","readAsBinaryString","blob_string_with_exif","index","Blob","convertToBlob","quality","blob_with_exif","Comlink","global","factory","Types","Byte","Ascii","Short","Long","Rational","Undefined","SLong","SRational","ValueConvertError","ImageTagElement","Tags","Image","Exif","GPS","Interop","TagValues","ProcessingSoftware","NewSubfileType","SubfileType","ImageWidth","ImageLength","BitsPerSample","Compression","PhotometricInterpretation","Threshholding","CellWidth","CellLength","FillOrder","DocumentName","ImageDescription","Make","Model","StripOffsets","Orientation","SamplesPerPixel","RowsPerStrip","StripByteCounts","PlanarConfiguration","GrayResponseUnit","GrayResponseCurve","T4Options","T6Options","TransferFunction","Artist","HostComputer","Predictor","WhitePoint","PrimaryChromaticities","ColorMap","HalftoneHints","TileWidth","TileLength","TileOffsets","TileByteCounts","SubIFDs","InkSet","InkNames","NumberOfInks","DotRange","TargetPrinter","ExtraSamples","SampleFormat","SMinSampleValue","SMaxSampleValue","TransferRange","ClipPath","XClipPathUnits","YClipPathUnits","Indexed","JPEGTables","OPIProxy","JPEGProc","JPEGInterchangeFormat","JPEGInterchangeFormatLength","JPEGRestartInterval","JPEGLosslessPredictors","JPEGPointTransforms","JPEGQTables","JPEGDCTables","JPEGACTables","YCbCrCoefficients","YCbCrSubSampling","ReferenceBlackWhite","XMLPacket","Rating","RatingPercent","ImageID","CFARepeatPatternDim","CFAPattern","BatteryLevel","Copyright","ExposureTime","ImageResources","ExifTag","InterColorProfile","GPSTag","Interlace","TimeZoneOffset","SelfTimerMode","FlashEnergy","SpatialFrequencyResponse","Noise","FocalPlaneXResolution","FocalPlaneYResolution","FocalPlaneResolutionUnit","ImageNumber","SecurityClassification","ImageHistory","ExposureIndex","TIFFEPStandardID","SensingMethod","XPTitle","XPAuthor","XPKeywords","XPSubject","PrintImageMatching","DNGVersion","DNGBackwardVersion","UniqueCameraModel","LocalizedCameraModel","CFAPlaneColor","CFALayout","LinearizationTable","BlackLevelRepeatDim","BlackLevel","BlackLevelDeltaH","BlackLevelDeltaV","WhiteLevel","DefaultScale","DefaultCropOrigin","DefaultCropSize","ColorMatrix1","ColorMatrix2","CameraCalibration1","CameraCalibration2","ReductionMatrix1","ReductionMatrix2","AnalogBalance","AsShotNeutral","AsShotWhiteXY","BaselineExposure","BaselineNoise","BaselineSharpness","BayerGreenSplit","LinearResponseLimit","CameraSerialNumber","LensInfo","ChromaBlurRadius","AntiAliasStrength","ShadowScale","DNGPrivateData","MakerNoteSafety","CalibrationIlluminant1","CalibrationIlluminant2","BestQualityScale","RawDataUniqueID","OriginalRawFileName","OriginalRawFileData","ActiveArea","MaskedAreas","AsShotICCProfile","AsShotPreProfileMatrix","CurrentICCProfile","CurrentPreProfileMatrix","ColorimetricReference","CameraCalibrationSignature","ProfileCalibrationSignature","AsShotProfileName","NoiseReductionApplied","ProfileName","ProfileHueSatMapDims","ProfileHueSatMapData1","ProfileHueSatMapData2","ProfileToneCurve","ProfileEmbedPolicy","ProfileCopyright","ForwardMatrix1","ForwardMatrix2","PreviewApplicationName","PreviewApplicationVersion","PreviewSettingsName","PreviewSettingsDigest","PreviewColorSpace","PreviewDateTime","RawImageDigest","OriginalRawFileDigest","SubTileBlockSize","RowInterleaveFactor","ProfileLookTableDims","ProfileLookTableData","OpcodeList1","OpcodeList2","OpcodeList3","NoiseProfile","FNumber","ExposureProgram","SpectralSensitivity","ISOSpeedRatings","OECF","SensitivityType","StandardOutputSensitivity","RecommendedExposureIndex","ISOSpeed","ISOSpeedLatitudeyyy","ISOSpeedLatitudezzz","CompressedBitsPerPixel","ShutterSpeedValue","ApertureValue","BrightnessValue","ExposureBiasValue","MaxApertureValue","SubjectDistance","MeteringMode","LightSource","Flash","FocalLength","SubjectArea","MakerNote","UserComment","SubSecTime","SubSecTimeOriginal","SubSecTimeDigitized","PixelXDimension","PixelYDimension","RelatedSoundFile","InteroperabilityTag","SubjectLocation","FileSource","SceneType","CustomRendered","ExposureMode","WhiteBalance","DigitalZoomRatio","FocalLengthIn35mmFilm","SceneCaptureType","GainControl","Contrast","Saturation","Sharpness","DeviceSettingDescription","SubjectDistanceRange","ImageUniqueID","CameraOwnerName","BodySerialNumber","LensSpecification","LensMake","LensModel","LensSerialNumber","Gamma","GPSIFD","GPSVersionID","GPSLatitudeRef","GPSLatitude","GPSLongitudeRef","GPSLongitude","GPSAltitudeRef","GPSAltitude","GPSTimeStamp","GPSSatellites","GPSStatus","GPSMeasureMode","GPSDOP","GPSSpeedRef","GPSSpeed","GPSTrackRef","GPSTrack","GPSImgDirectionRef","GPSImgDirection","GPSMapDatum","GPSDestLatitudeRef","GPSDestLatitude","GPSDestLongitudeRef","GPSDestLongitude","GPSDestBearingRef","GPSDestBearing","GPSDestDistanceRef","GPSDestDistance","GPSProcessingMethod","GPSAreaInformation","GPSDateStamp","GPSDifferential","GPSHPositioningError","InteropIFD","InteroperabilityIndex","_nLoopStr","ch","num","pack","packed","p","valBinary","reverse","join","unpack","l","markPointer","unpacked","strPointer","sliced","_isBrowser","Function","atob","window","decoded","btoa","encoded","_packByte","_packShort","_packLong","copied","assign","getThumbnail","jpeg","segments","splitIntoSegments","_valueToBytes","rawValue","valueType","tagBinary","_toByte","_toAscii","_toShort","_toLong","_toRational","_toUndefined","_toSRational","t","lengthBinary","fourBytesOver","newValue","den","dictToBytes","ifdObj","ifdName","ifdOffsetCount","TIFF_HEADER_LENGTH","tagCount","keys","entryHeader","entriesLength","entries","values","keyBinary","typeBinary","_ifdName","tagName","errorMessage","ExifReader","exifBinary","app1","getIfd","pointer","endianMark","tiftag","tag","valueSet","convertValue","getFirstIfdPointer","firstIfdPointer","getExifSeg","head","endPoint","seg","mergeSegments","hasExifSegment","additionalAPP1ExifSegments","forEach","segment","unshift","segmentIndex","splice","GPSHelper","degToDmsRational","degFloat","degAbs","minFloat","secFloat","deg","sec","dmsRationalToDeg","dmsArray","ref","sign","remove","imageBinary","bbase64Encoded","newSegments","filter","newBinary","insert","base64Encoded","app1Segment","binary","exifObj","exifReader","zerothIfd","firstIfd","exifIfd","interopIfd","gpsIfd","thumbnail","dump","originalExifObj","header","existExifIfd","existGpsIfd","existInteropIfd","existFirstIfd","zerothIfdSet","zerothIfdLength","exifIfdSet","gpsIfdSet","interopIfdSet","firstIfdSet","exifIfdBytes","exifIfdLength","gpsIfdBytes","gpsIfdLength","interopIfdBytes","interopIfdLength","firstIfdBytes","exifPointer","gpsPointer","interopPointer","pointerValue","pointerBinary","thumbnailPointer","thumbnailPointerBinary","thumbnailLengthBinary","zerothIfdBinary","DESCRIPTORS","IE8_DOM_DEFINE","V8_PROTOTYPE_DEFINE_BUG","anObject","toPropertyKey","$TypeError","$defineProperty","$getOwnPropertyDescriptor","getOwnPropertyDescriptor","ENUMERABLE","CONFIGURABLE","WRITABLE","f","O","P","Attributes","current","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","__webpack_modules__","__webpack_exports__","deferred","chunkIds","priority","notFulfilled","fulfilled","every","r","getter","__esModule","d","definition","o","chunkId","reduce","promises","u","miniCssF","g","globalThis","prop","hasOwnProperty","installedChunks","installChunk","moreModules","runtime","pop","parentChunkLoadingFunction","importScripts","chunkLoadingGlobal","bind","next","then"],"sourceRoot":""}